{"version":3,"sources":["components/homepage/HomepageIcon.tsx","components/homepage/Homepage.tsx","utils/base/Base.tsx","services/VillagersManager.tsx","components/shared/page-title/PageTitle.tsx","components/villagers/VillagerItem.tsx","components/villagers/VillagerFilters.tsx","components/villagers/VillagerDetails.tsx","components/shared/loading-state/LoadingState.tsx","components/villagers/Villagers.tsx","services/MusicManager.tsx","components/music/Music.tsx","services/CreaturesManager.tsx","components/creatures/CreatureItem.tsx","components/creatures/CreatureDetails.tsx","components/creatures/CreatureTab.tsx","components/creatures/Creatures.tsx","services/ItemsManager.tsx","components/items/diy/DiyViewModal.tsx","components/items/diy/DiyCustomizeModal.tsx","components/items/diy/DiyTabItem.tsx","components/items/diy/DiyTab.tsx","components/items/diy/Diy.tsx","components/items/shopping/ShoppingViewModal.tsx","components/items/shopping/ShoppingColorsModal.tsx","components/items/shopping/ShoppingTabItem.tsx","components/items/shopping/ShoppingTab.tsx","components/items/shopping/Shopping.tsx","components/items/freebies/FreebiesCustomizeModal.tsx","components/items/freebies/FreebiesViewModal.tsx","components/items/freebies/FreebiesItem.tsx","components/items/freebies/FreebiesItemGroup.tsx","services/FreebiesManager.tsx","components/items/freebies/FreebiesPage.tsx","components/items/freebies/FreebiesAll.tsx","services/ArtManager.tsx","components/art/ArtItem.tsx","components/art/ArtModal.tsx","components/art/Art.tsx","services/FossilsManager.tsx","components/fossils/FossilItem.tsx","components/fossils/FossilsModal.tsx","components/fossils/Fossils.tsx","services/HourlyMusicManager.tsx","components/hourly-music/HourlyMusic.tsx","components/creatures/availability-calendar/YearlyCreatureRow.tsx","components/creatures/availability-calendar/YearlyView.tsx","components/creatures/availability-calendar/MonthlyCreatureRow.tsx","components/creatures/availability-calendar/MonthlyView.tsx","components/creatures/availability-calendar/CreaturesAvailabilityCalendar.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["HomepageIcon","props","Grid","item","xs","to","this","homepageItem","link","className","src","imageUrl","alt","id","name","React","Component","Homepage","state","time","checkTime","setTimeout","now","Date","setState","toLocaleString","hour","minute","hour12","Container","container","spacing","map","key","Base","_baseEndpoint","_get","request","a","url","fetch","response","json","body","status","Error","message","value","currentState","data","VillagersManager","_getAllVillagers","villager","personality","birthday","species","gender","hobby","catchphrase","imageUri","iconUri","saying","bubbleColor","textColor","PageTitle","backLink","backLinkDisplay","pageTitle","VillagerItem","_currentVillager","style","borderColor","DefaultSelectionElement","FormControlLabel","DEFAULT_SELECTION","control","Radio","label","FilterGroup","groupName","optionsArr","changeFn","FormControl","FormLabel","component","RadioGroup","aria-label","onChange","FormGroup","VillagerFilters","genderSelectionChange","bind","hobbiesSelectionChange","personalitiesSelectionChange","speciesSelectionChange","event","changeState","target","_currentState","onFilterSelecionChange","_personalities","availableFilters","personalities","_hobbies","hobbies","_gender","_species","md","VillagerSubDetail","text","VillagerDetails","_villager","onClick","closeAction","Chip","backgroundColor","color","Button","variant","disableElevation","marginRight","LoadingState","Skeleton","width","height","FilterChip","filter","filterLabel","Villagers","_isMounted","modalOpen","currentVillager","allVillagers","filteredVillagers","allPersonalities","allHobbies","allGender","allSpecies","textFilter","radioFilters","pageLoaded","openVillagerModal","closeVillagerModal","textSearch","filterSelectionChange","showFilterLabel","_allVillagers","_allPersonalities","_allHobbies","_allGender","_allSpecies","then","villagers","forEach","_newVillager","_renderVillager","push","includes","_changeState","searchString","_search","toLowerCase","indexOf","_filteredArr","_filterSelections","_filterByPersonality","personalitySearch","_filterByHobby","hobbySearch","_filterByGender","genderSearch","speciesSearch","selectedPersonality","selectedHobby","selectedGender","selectedSpecies","allSearch","filtersSelection","_filtered","_filteredString","radioSearch","_filters","_modalOpen","_selectedFilter","_availableFilters","fontSize","TextField","textSearchChange","Accordion","AccordionSummary","expandIcon","AccordionDetails","length","Modal","open","onClose","MusicManager","_getAllSongs","_getSong","songId","songs","_allSongs","song","_newSong","musicUri","Music","audioRef","songListRef","allSongs","filteredSongs","currentSong","nowPlayingDisplay","createRef","selectCurrentSong","handleScroll","_renderAllSongs","window","addEventListener","removeEventListener","offset","current","offsetTop","scrollY","pause","load","play","_currentSong","_nowPlayingDisplay","ref","controls","autoPlay","type","CreaturesManager","creatures","kind","_allCreatures","creature","_newCreature","isAllDay","isAllYear","location","monthsAvailable_northern","_getMonthArray","monthsAvailable_southern","monthsAvailable_northern_int","monthsAvailable_southern_int","timeAvailable","timeString","museumInfo","price","price_cj","price_flick","shadow","monthArr","_monthArrStr","m","_getMonth","index","CreatureItem","CreatureDetail","Months","month","chipClass","monthsArr","mo","CreatureDetails","_time","_cjPrice","_flickPrice","_extraPrice","_price","position","CreatureTab","currentCreature","filteredCreatures","isOpenModal","openModal","closeModal","fishes","fish","_fishList","Creatures","activeTab","allFishes","allBugs","allSeaCreatures","handleTabChange","_getAllFishes","_allFishes","_renderCreature","_getAllBugs","bugs","_allBugs","_getAllSeaCreatures","_allSeaCreatures","newValue","Tabs","indicatorColor","centered","Tab","hidden","ItemsManager","ItemDetail","DiyViewModal","_item","_hha1","hhaConcept1","_hha2","hhaConcept2","sellPrice","tag","CustomItem","DiyCustomizeModal","_itemGroup","itemGroup","variations","DiyTabItem","anchor","modalViewOpen","modalCustomizeOpen","handleClick","handleClose","openViewModal","closeViewModal","closeCustomizeModal","viewMenuClicked","customizeMenuClicked","currentTarget","openCustomizeModal","diyItemGroup","_viewModal","_customizeModal","Menu","anchorEl","keepMounted","Boolean","MenuItem","DiyTab","currentData","currentPage","setPage","pagedDiyItems","changeCurrentData","val","_i","_data","_pagedData","_startRange","_endRange","title","allDiyItemsLength","Pagination","count","Diy","allHousewareItems","allWallmountedItems","allMiscItems","pagedHousewareItems","pagedWallmountedItems","pagedMiscItems","_getAllHousewareItems","housewares","items","renderItems","allItems","pagedItems","_getAllWallmountedItems","wallmounted","_getAllMiscItems","misc","_allHouseware","_pagedHouseware","_newPage","_variations","_newDiyItem","buyPrice","canCustomize","color1","color2","isCatalog","isDiy","isInteractive","isOutdoor","pattern","source","_newDiyItemGroup","_activeTab","_pagedHousewareItems","_pagedWallmountedItems","_pagedMiscItems","_allHousewareItemsLength","_allWallmountedItemsLength","_allMiscItemsLength","icon","Tooltip","ShoppingViewModal","size","ShoppingColorsModal","ShoppingTabItem","closeColorsModal","shoppingItemGroup","ShoppingTab","Shopping","FreebiesCustomizeModal","FreebiesViewModal","FreebiesItem","FreebiesItemGroup","FreebiesManager","freebieId","match","params","freebie_id","selectedFreebieItems","allFreebies","loaded","_freebieItems","_freebies","_newItem","Object","keys","_shortKey","split","join","_newFreebieGroup","id_long","id_short","find","f","FreebiesPage","_selectedItemData","_idLong","_isAll","_title","_backLink","display","FreebiesAll","_allItems","freebieGroup","ArtManager","ArtItem","imageLoaded","onImageLoad","_art","art","_imageLoaded","onLoad","IArtDetail","ArtModal","isImageLoaded","onImageLoaded","hasFake","museumDescription","Art","PAINTING","STATUE","allPaintings","allStatues","isModalOpen","currentArt","_getAllArt","artItems","renderArtItems","_allPaintings","_allStatues","_newArt","isPainting","FossilsManager","fossils","_allFossils","fossil","_newFossil","FossilItem","showState","onHover","onLeave","_fossil","onError","FossilsModal","Fossils","allFossils","currentFossil","console","log","_getAllFossils","_renderFossils","_pageLoaded","HourlyMusicManager","musicData","_allHourlyMusic","music","_id","_existingHour","_newVariation","weather","_newHourlyMusic","HourlyMusic","HOURS","AM","PM","SUNNY","RAINY","SNOWY","allHourlyMusic","allWeatherOptions","circleOpen","styles","hourSelected","meridiemSelected","weatherSelected","selectedMusicUri","onHourSelected","onMeridiemSelected","getButtonIcon","_getAllMusic","_renderItems","onTimeChanged","onSelectionChange","setHoursStyle","setCurrentDefaultHour","_allStyles","_numHours","_newStyle","top","Math","sin","PI","toFixed","left","cos","_now","_hour","getHours","_meridiem","selection","_hourSelected","_meridiemSelected","_currentTime","decodeTime","_currentHourlyMusic","h","_weatherSelections","v","error","_weatherSelected","_currentBackgroundMusic","w","changeSongSelection","meridiem","_selectedMusicUri","i","startIcon","onWeatherSelected","YearlyCreatureCol","isAvailable","TableCell","YearlyCreatureRow","_NORTHERN","NORTHERN","_SOUTHERN","SOUTHERN","_area","area","_creature","_creatureAvailability","TableRow","hover","tabIndex","YearlyView","_selectedCreaturesList","creaturesList","_selectedCreatureType","selectedCreatureType","_selectedArea","selectedArea","TableContainer","Table","stickyHeader","TableHead","TableBody","c","MonthlyCreatureCol","MonthlyCreatureRow","hours","initializeHours","_hours","MonthlyView","selectedMonth","onNextClick","onPrevClick","getMonthFromId","curr","_selectedMonth","_areaId","CreaturesAvailabilityCalendar","_BUGS","_FISHES","_YEARLY","_MONTHLY","_AREA_OPTIONS","_CREATURE_TYPE_OPTIONS","_CALENDAR_TYPE_OPTIONS","selectedCreature","selectedCalendarType","selectedCreaturesList","onCreatureTypeSelected","onAreaSelected","onCalendarTypeSelected","creatureType","calendarType","_selectedCreature","_selectedCalendarType","App","basename","process","exact","path","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.ebb2a4e9.chunk.js","sourcesContent":["import React from 'react';\nimport Grid from '@material-ui/core/Grid';\n\nimport { IHomepageItem } from '../../models/IHomepageItem';\nimport { Link } from 'react-router-dom'; \n\nexport class HomepageIcon extends React.Component<{homepageItem: IHomepageItem}, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Grid item xs={4}>  \n        <Link to={this.props.homepageItem.link}>\n          <div className=\"homepage-item-container padded-1y\">\n            <div className=\"homepage-item\">\n              <div className=\"homepage-item-image\">\n                <img src={`assets/homepage_icons/${this.props.homepageItem.imageUrl}`} alt={this.props.homepageItem.id}/>\n              </div>\n              <h2 className=\"font-color-dark homage-item-name\">{this.props.homepageItem.name}</h2>\n            </div>\n          </div>\n        </Link>\n      </Grid>\n    );\n  }\n}\n","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\n\nimport '../../models/IHomepageItem';\nimport { IHomepageItem } from '../../models/IHomepageItem';\nimport { HomepageIcon } from './HomepageIcon';\n\nexport class Homepage extends React.Component<{}, {time: string}> {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      time: ''\n    }\n  }\n  \n  componentDidMount() {\n    const checkTime = () => {\n      setTimeout(() => {\n        const now = new Date();\n        this.setState({\n          time: now.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true })\n        });\n        checkTime();\n      }, 500);\n    }\n\n    checkTime();\n  }\n\n  render() {\n    const time = new Date();\n    const icons:IHomepageItem[] = [\n      {\n        id: 'homepage-icon--1',\n        name: \"Villagers\",\n        imageUrl: \"villager_icon.png\",\n        link: '/villagers'\n      },\n      {\n        id: 'homepage-icon--2',\n        name: \"Music\",\n        imageUrl: \"music_icon.png\",\n        link: '/music'\n      },\n      {\n        id: 'homepage-icon--3',\n        name: \"Creatures\",\n        imageUrl: \"creature_icon.png\",\n        link: '/creatures'\n      },\n      {\n        id: 'homepage-icon--4',\n        name: \"DIY\",\n        imageUrl: \"diy_icon.png\",\n        link: '/diy'\n      },\n      {\n        id: 'homepage-icon--5',\n        name: \"Shopping\",\n        imageUrl: \"shopping_icon.png\",\n        link: '/shopping'\n      },\n      {\n        id: 'homepage-icon--6',\n        name: \"Freebies\",\n        imageUrl: \"freebies_icon.png\",\n        link: '/freebies-redeemable'\n      },\n      {\n        id: 'homepage-icon--7',\n        name: \"Art\",\n        imageUrl: \"art_icon.png\",\n        link: '/art'\n      },\n      {\n        id: 'homepage-icon--8',\n        name: \"Fossils\",\n        imageUrl: \"fossil_icon.png\",\n        link: '/fossils'\n      },\n      {\n        id: 'homepage-icon--9',\n        name: \"Hourly Music\",\n        imageUrl: \"hourly_music_icon.png\",\n        link: '/hourly-music'\n      },\n    ];\n\n    return (\n      <div className=\"background-main font--main homepage-wrapper padded-6y\">\n        <div className=\"homepage-container\">\n          <Container>\n            {/* <h3 className=\"font-color-light homepage-time\">{this.state.time}</h3>\n            <h1 className=\"font-color-dark homepage-title\">Nookbook</h1> */}\n            <div className=\"homepage-logo-container\">\n              <img src=\"assets/main/nookbook_logo.png\" alt=\"nookbook-logo\"/>\n            </div>\n\n            <div className=\"padded-6y homepage-grid-wrapper\">\n              <Grid container spacing={2}>\n                {icons.map((homepageItem: IHomepageItem) => <HomepageIcon key={homepageItem.id} homepageItem={homepageItem}/> )}\n              </Grid>\n            </div>\n          </Container>\n        </div>\n      </div>\n    )\n  }\n}","import React from 'react'; \n\nexport class Base extends React.Component<{match: any}, {data: any}> {\n  private _baseEndpoint = 'https://acnhapi.com/v1a';\n  \n  /**\n   * GET call\n   * @param request\n   */\n  _get = async(request: string): Promise<any> => {\n    const url = `${this._baseEndpoint}${request}`;\n    \n    const response = await fetch(url);\n    const body = await response.json();\n\n    if (response.status !== 200) {\n        throw Error(body.message) \n    }\n\n    return body;\n  }\n\n  /**\n   * update state\n   * @param key \n   * @param value \n   */\n  _changeState(key: string, value: any) {\n    let currentState = this.state.data;\n    currentState[key] = value;\n\n    this.setState({\n      data: currentState\n    });\n  }\n}","import { Base } from '../utils/base/Base';\nimport { IVillager } from '../models/IVillager';\n\nexport class VillagersManager extends Base {\n  /**\n   * get a list of all villagers\n   */\n  _getAllVillagers = async() => {\n    return this._get('/villagers');\n  }\n\n  /**\n   * \n   * @param villager \n   */\n  _renderVillager(villager: any): IVillager {\n    return {\n      id: villager['id'],\n      name: villager['name']['name-USen'],\n      personality: villager['personality'],\n      birthday: villager['birthday-string'],\n      species: villager['species'],\n      gender: villager['gender'],\n      hobby: villager['hobby'],\n      catchphrase: villager['catch-phrase'],\n      imageUri: villager['image_uri'],\n      iconUri: villager['icon_uri'],\n      saying: villager['saying'],\n      bubbleColor: villager['bubble-color'],\n      textColor: villager['text-color']\n    }\n  }\n}","import React from 'react';\nimport { Link } from \"react-router-dom\"; \nimport './PageTitle.css';\n\nexport class PageTitle extends React.Component<{backLinkDisplay, backLink, pageTitle}, {}> {\n  constructor(props) {\n    super(props);\n\n  }\n  render() {\n    return (\n      <div className=\"padded-2y\">\n        <h3 className=\"font-color-light\">\n          <Link to={this.props.backLink}>\n            <span className=\"page-title-breadcrumb\">{'< ' + this.props.backLinkDisplay}</span>\n          </Link>\n        </h3>\n        <h1 className=\"font-color-dark page-title\">{this.props.pageTitle}</h1>\n      </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport { IVillager } from '../../models/IVillager';\n\nexport class VillagerItem extends React.Component<{villager: IVillager}, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const _currentVillager: IVillager = this.props.villager;\n    return(\n      <div className=\"villager-item-container padded-1x padded-1y\">\n        <div className=\"villager-item-image\" style={{borderColor: _currentVillager.bubbleColor}}>\n          <img src={_currentVillager.iconUri} />\n        </div>\n        <h3 className=\"villager-item-name font-color-dark\">{_currentVillager.name}</h3>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { Grid, FormLabel, FormGroup, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nimport { IVillageFilters, IVillageFiltersSelection } from '../../models/IVillageFilters';\n\ninterface IVillagerFiltersProps {\n  onFilterSelecionChange(filters: IVillageFiltersSelection): void, \n  availableFilters: IVillageFilters \n}\n\nconst DefaultSelectionElement = () => {\n  return <FormControlLabel\n    key='gender-all'\n    value={DEFAULT_SELECTION}\n    control={<Radio />}\n    label={DEFAULT_SELECTION}\n  />\n};\n\nconst FilterGroup = ({groupName, optionsArr, state, changeFn}) => {\n  return (\n    <FormControl>\n      <FormLabel component=\"legend\">{groupName}</FormLabel>\n      <RadioGroup aria-label=\"gender\" name=\"gender\" value={state} onChange={changeFn}>\n        <FormGroup className=\"filter-form-group padded-2x font--main\">\n          <DefaultSelectionElement />\n          {optionsArr.map((optionsArr:string) => \n            <FormControlLabel\n              key={optionsArr}\n              value={optionsArr}\n              control={<Radio />}\n              label={optionsArr}\n          />)}\n        </FormGroup>\n      </RadioGroup>\n    </FormControl>\n  )\n};\n\nconst DEFAULT_SELECTION = 'all';\n\nexport class VillagerFilters extends React.Component<IVillagerFiltersProps, IVillageFiltersSelection> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gender: DEFAULT_SELECTION,\n      hobby: DEFAULT_SELECTION,\n      species: DEFAULT_SELECTION,\n      personality: DEFAULT_SELECTION\n    }\n\n    this.genderSelectionChange = this.genderSelectionChange.bind(this);\n    this.hobbiesSelectionChange = this.hobbiesSelectionChange.bind(this);\n    this.personalitiesSelectionChange = this.personalitiesSelectionChange.bind(this);\n    this.speciesSelectionChange = this.speciesSelectionChange.bind(this);\n  }\n\n  /**\n   * when a gender filter is selected\n   * @param event\n   */\n  genderSelectionChange(event) {\n    this.changeState('gender', event.target.value);\n  }\n\n  /**\n   * when a hobbies filter is selected\n   * @param event\n   */\n  hobbiesSelectionChange(event) {\n    this.changeState('hobby', event.target.value);\n  }\n\n  /**\n   * when a personalities filter is selected\n   * @param event\n   */\n  personalitiesSelectionChange(event) {\n    this.changeState('personality', event.target.value);\n  }\n\n  /**\n   * when a species filter is selected\n   * @param event\n   */\n  speciesSelectionChange(event) {\n    this.changeState('species', event.target.value);\n  }\n\n\n  /**\n   * change a state value\n   * @param key\n   * @param value \n   */\n  changeState(key: string, value: string) {\n    let _currentState = this.state;\n    _currentState[key] = value;\n\n    this.setState(_currentState);\n    this.props.onFilterSelecionChange(this.state);\n  }\n\n  render() {\n    const _personalities: string[] = this.props.availableFilters.personalities;\n    const _hobbies: string[] = this.props.availableFilters.hobbies;\n    const _gender: string[] = this.props.availableFilters.gender;\n    const _species: string[] = this.props.availableFilters.species;\n\n    return (\n      <div className=\"padded-4x\">\n        <Grid container spacing={4}>\n          \n          <Grid item xs={12} md={4}>\n            <FilterGroup groupName='Gender' optionsArr={_gender} state={this.state.gender} changeFn={this.genderSelectionChange} />\n          </Grid>\n\n          <Grid item xs={12} md={4}>\n            <FilterGroup groupName='Hobby' optionsArr={_hobbies} state={this.state.hobby} changeFn={this.hobbiesSelectionChange} />\n          </Grid>\n\n          <Grid item xs={12} md={4}>\n            <FilterGroup groupName='Personality' optionsArr={_personalities} state={this.state.personality} changeFn={this.personalitiesSelectionChange} />\n          </Grid>\n\n          <Grid item xs={12} md={12}>\n            <FilterGroup groupName='Species' optionsArr={_species} state={this.state.species} changeFn={this.speciesSelectionChange} />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport { IVillager } from '../../models/IVillager';\nimport { Grid, Chip, Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst VillagerSubDetail = ({label, text}) => {\n  return (\n    <tr>\n      <td className=\"villager-details-sub-detail\"><h3>{label}:</h3></td>\n      <td className=\"villager-details-sub-detail\"><h3>{text}</h3></td>\n    </tr>\n  );\n};\n\nexport class VillagerDetails extends React.Component<{villager: IVillager, closeAction: any}, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const _villager: IVillager = this.props.villager;\n\n    return (\n      <div className=\"main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n        <div className=\"padded-2y\">\n          <Grid container spacing={2} >\n            <Grid item xs={12} md={6}>\n              <div className=\"villager-details-image\">\n                <img src={_villager.imageUri} alt={_villager.name} />\n                <h3 className=\"villager-details-saying\">\"{_villager.saying}\"</h3>\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <div className=\"villager-details-main padded-2x\">\n                <h1>{ _villager.name }</h1>\n                <Chip label={_villager.personality} className=\"font--main villager-details-chip\" \n                  style={{backgroundColor: (_villager.bubbleColor == '#ffffff' ? '#eeeeee' : _villager.bubbleColor) , color: _villager.textColor}} />\n              </div>\n              <div className=\"villager-details-sub padded-2x\">\n                <h3>Birthday: {_villager.birthday}</h3>\n                <h3>Species: {_villager.species} </h3>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n        <div className=\"padded-1y\">\n          <div className=\"villager-details-line background-dark\"></div>\n        </div>\n\n        <div className=\"padded-1y padded-2x\">\n          <table>\n            <tbody>\n              <VillagerSubDetail label=\"Gender\" text={_villager.gender} />\n              <VillagerSubDetail label=\"Catchphrase\" text={`\"${_villager.catchphrase}\"`}/>\n              <VillagerSubDetail label=\"Hobby\" text={_villager.hobby} />\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"padded-1y\">\n          <div className=\"villager-details-line background-dark\"></div>\n        </div>\n\n        <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n          <CloseIcon style={{marginRight: '5px'}}/> Close\n        </Button>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport './LoadingState.css';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\n\nexport class LoadingState extends React.Component {\n  render() {\n    return (\n      <div className=\"main--flex padded-4y padded-2x\">\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n        <div className=\"loading-skeleton\">\n          <Skeleton variant=\"rect\" width={140} height={140} />\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport { VillagersManager } from '../../services/VillagersManager'\nimport { Container, Modal, AccordionSummary, Accordion, AccordionDetails, TextField, Chip } from '@material-ui/core';\nimport { PageTitle } from '../shared/page-title/PageTitle';\nimport { IVillager } from '../../models/IVillager';\nimport { VillagerItem } from './VillagerItem';\nimport { VillagerFilters } from './VillagerFilters';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { VillagerDetails } from './VillagerDetails';\nimport { IVillageFilters, IVillageFiltersSelection } from '../../models/IVillageFilters';\nimport { LoadingState } from '../shared/loading-state/LoadingState';\n\nconst FilterChip = ({filter, filterLabel}) => {\n  if (filter === 'all') {\n    return <span></span>;\n  } else {\n    return <Chip className=\"villager-chip font--main background-blue\" label={`${filterLabel}: ${filter}`} />\n  }\n}\n\nexport class Villagers extends VillagersManager {\n\n  /** if component is mounted */\n  private _isMounted: boolean;\n  \n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    const _emptyRadioFilters: IVillageFiltersSelection = {\n      hobby: 'all',\n      gender: 'all',\n      personality: 'all',\n      species: 'all'\n    }\n\n    this.state = {\n      data: {\n        modalOpen: false,\n        currentVillager: null,\n        allVillagers: [],\n        filteredVillagers: [],\n        allPersonalities: [],\n        allHobbies: [],\n        allGender: [],\n        allSpecies: [],\n        textFilter: '',\n        radioFilters: _emptyRadioFilters,\n        pageLoaded: false\n      }\n    }\n\n    this.openVillagerModal = this.openVillagerModal.bind(this);\n    this.closeVillagerModal = this.closeVillagerModal.bind(this);\n    this.textSearch = this.textSearch.bind(this);\n    this.filterSelectionChange = this.filterSelectionChange.bind(this);\n    this.showFilterLabel = this.showFilterLabel.bind(this);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    const _allVillagers: IVillager[] = [];\n    const _allPersonalities: string[] = [];\n    const _allHobbies: string[] = [];\n    const _allGender: string[] = [];\n    const _allSpecies: string[] = [];\n\n    this._getAllVillagers().then((villagers: any) => {\n      this._isMounted = true;\n      villagers.forEach((villager: any) => {\n        const _newVillager: IVillager = this._renderVillager(villager)\n\n        _allVillagers.push(_newVillager);\n\n        // set options for filters\n        if (!_allPersonalities.includes(_newVillager.personality)) {\n          _allPersonalities.push(_newVillager.personality);\n        }\n\n        if (!_allHobbies.includes(_newVillager.hobby)) {\n          _allHobbies.push(_newVillager.hobby);\n        }\n\n        if (!_allGender.includes(_newVillager.gender)) {\n          _allGender.push(_newVillager.gender);\n        }\n\n        if (!_allSpecies.includes(_newVillager.species)) {\n          _allSpecies.push(_newVillager.species);\n        }\n      });\n\n      if (this._isMounted) {\n        this._changeState('allVillagers', _allVillagers);\n        this._changeState('filteredVillagers', _allVillagers);\n        this._changeState('allPersonalities', _allPersonalities);\n        this._changeState('allHobbies', _allHobbies);\n        this._changeState('allGender', _allGender);\n        this._changeState('allSpecies', _allSpecies);\n        this._changeState('pageLoaded', true);\n      }\n    });\n  }\n\n    /**\n   * open the modal for villager details\n   */\n  openVillagerModal(currentVillager: IVillager) {\n    const currentState = this.state.data;\n    this._changeState('modalOpen', true);\n    this._changeState('currentVillager', currentVillager);\n  }\n\n  /**\n   * close the modal for villager details\n   */\n  closeVillagerModal() {\n    const currentState = this.state.data;\n    this._changeState('modalOpen', false);\n  }\n\n  /**\n   * handles the live search based on the filter input\n   * @param searchString\n   */\n  textSearch(searchString: string) {\n    const _search: string = searchString.toLowerCase();\n\n    // return all villagers if search string is empty\n    if (_search === '') {\n      return [... this.state.data.allVillagers];\n    }\n\n    // filter by search string\n    const _filtered = this.state.data.allVillagers.filter((villager: IVillager) => \n      villager.name.toLowerCase().indexOf(_search) > -1\n    );\n    \n    return _filtered;\n  }\n\n  /**\n   * search all radio filters\n   * @param _filteredArr\n   */\n  radioSearch(_filteredArr: IVillager[]) {\n    const _filterSelections:IVillageFiltersSelection = this.state.data.radioFilters;\n\n    const _filterByPersonality = this.personalitySearch(_filteredArr, _filterSelections.personality);\n    const _filterByHobby = this.hobbySearch(_filterByPersonality, _filterSelections.hobby);\n    const _filterByGender = this.genderSearch(_filterByHobby, _filterSelections.gender);\n    const _filterBySpecies = this.speciesSearch(_filterByGender, _filterSelections.species);\n\n    return _filterBySpecies;\n  }\n\n  /**\n   * filter by personality\n   * @param _filteredArr \n   * @param selectedPersonality \n   */\n  personalitySearch(_filteredArr: IVillager[], selectedPersonality: string) {\n    if (selectedPersonality === 'all') {\n      return [..._filteredArr];\n    }\n    return _filteredArr.filter((villager: IVillager) => villager.personality === selectedPersonality);\n  }\n\n  /**\n   * filter by hobby\n   * @param _filteredArr \n   * @param selectedHobby \n   */\n  hobbySearch(_filteredArr: IVillager[], selectedHobby: string) {\n    if (selectedHobby === 'all') {\n      return [..._filteredArr];\n    }\n    return _filteredArr.filter((villager: IVillager) => villager.hobby === selectedHobby);\n  }\n\n  /**\n   * filter by gender\n   * @param _filteredArr \n   * @param selectedGender \n   */\n  genderSearch(_filteredArr: IVillager[], selectedGender: string) {\n    if (selectedGender === 'all') {\n      return [..._filteredArr];\n    }\n    return _filteredArr.filter((villager: IVillager) => villager.gender === selectedGender);\n  }\n\n  /**\n   * filter by species\n   * @param _filteredArr \n   * @param selectedSpecies \n   */\n  speciesSearch(_filteredArr: IVillager[], selectedSpecies: string) {\n    if (selectedSpecies === 'all') {\n      return [..._filteredArr];\n    }\n    return _filteredArr.filter((villager: IVillager) => villager.species === selectedSpecies);\n  }\n\n\n  /**\n   * handles change in the text search input\n   * @param searchString \n   */\n  textSearchChange(searchString: string) {\n    this._changeState('textFilter', searchString);\n    this.allSearch();\n  }\n\n  /**\n   * listens to any change in the radio filters\n   * @param filtersSelection\n   */\n  filterSelectionChange(filtersSelection: IVillageFiltersSelection) {\n    this._changeState('radioFilters', filtersSelection);\n    this.allSearch();\n  }\n\n  /**\n   * do search (for text search and radio search);\n   */\n  allSearch() {\n    let _filtered;\n\n    // search string\n    const _filteredString = this.textSearch(this.state.data.textFilter || '');\n\n    // radio search\n    _filtered = this.radioSearch(_filteredString);\n\n    this._changeState('filteredVillagers', _filtered);\n  }\n\n  showFilterLabel() {\n    const _filters:IVillageFiltersSelection = this.state.data.radioFilters;\n    if (!_filters) {\n      return false;\n    }\n\n    return _filters.gender != 'all' || _filters.hobby != 'all' || _filters.personality != 'all' || _filters.species != 'all';\n  }\n\n  render() {\n    const _modalOpen = this.state.data.modalOpen != null ? this.state.data.modalOpen : false;\n    const _selectedFilter: IVillageFiltersSelection = this.state.data.radioFilters;\n\n    const _availableFilters: IVillageFilters = {\n      personalities: this.state.data.allPersonalities,\n      hobbies: this.state.data.allHobbies,\n      gender: this.state.data.allGender,\n      species: this.state.data.allSpecies\n    };\n\n    return (\n      <div className=\"background-main padded-6y villagers-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Villagers\" backLink=\"/\" backLinkDisplay=\"Home\" />\n            <div className=\"main-search-wrapper\">\n              <div className=\"main-search-icon\"><SearchIcon fontSize=\"large\" /></div>\n              <TextField id=\"outlined-basic\" label=\"Search Villager\" variant=\"outlined\" onChange={event => this.textSearchChange(event.target.value)} /> \n            </div>\n          </div>\n\n          <Accordion>\n            <AccordionSummary\n              expandIcon={<ExpandMoreIcon />}>\n              <div className=\"villager-filter-title font-color-dark\">\n                <h3>Filters</h3>\n              </div>\n            </AccordionSummary>\n            <AccordionDetails>\n              <VillagerFilters onFilterSelecionChange={this.filterSelectionChange} availableFilters={_availableFilters}/>\n            </AccordionDetails>\n          </Accordion>\n          {\n          this.state.data.pageLoaded ?\n            <div>\n              {\n                this.state.data.filteredVillagers &&\n                <div>\n                  <div className=\"padded-2y\">\n                    {this.showFilterLabel() ? <p className=\"font-color-dark\">Filtered by:</p> : null}\n                    {_selectedFilter ? <div className=\"villager-chip-list\">\n                      <FilterChip filter={_selectedFilter.gender} filterLabel=\"Gender\" />\n                      <FilterChip filter={_selectedFilter.hobby} filterLabel=\"Hobby\" />\n                      <FilterChip filter={_selectedFilter.personality} filterLabel=\"Personality\" />\n                      <FilterChip filter={_selectedFilter.species} filterLabel=\"Species\" />\n                    </div> : null}\n                  </div>\n                  <p className=\"font-color-dark\">Showing {this.state.data.filteredVillagers.length} out of {this.state.data.allVillagers.length}</p>\n                  <div className=\"villagers-container main-section\">\n                    {this.state.data.filteredVillagers.map(\n                      (villager: IVillager) => \n                        <div key={villager.id} onClick={() => {this.openVillagerModal(villager)}}>\n                          <VillagerItem villager={villager} />\n                        </div>\n                      ) \n                    }\n                  </div> \n                </div>\n              }\n            </div>\n            : \n            <div className=\"villagers-container main-section\">\n              <LoadingState />\n            </div> \n            }\n        </Container>\n        <Modal open={_modalOpen} onClose={this.closeVillagerModal}>\n          <div className=\"main-modal-wrapper\">\n            <VillagerDetails villager={this.state.data.currentVillager} closeAction={this.closeVillagerModal}/>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}","import { Base } from '../utils/base/Base';\nimport { IMusic } from '../models/IMusic';\n\nexport class MusicManager extends Base {\n  /**\n   * get a list of all songs\n   */\n  _getAllSongs = async() => {\n    return this._get('/songs');\n  }\n\n  /**\n   * get song\n   * @param songId\n   */\n  _getSong = async(songId: number) => {\n    return this._get(`/songs/${songId}`);\n  }\n\n  /**\n   * map response data to what's needed by the view\n   * @param songs \n   */\n  _renderAllSongs(songs: any): IMusic[] {\n    const _allSongs:IMusic[] = [];\n    \n    songs.forEach((song: string) => {\n      const _newSong: IMusic = {\n        name: song['name']['name-USen'],\n        id: song['id'],\n        imageUri: song['image_uri'],\n        musicUri: song['music_uri']\n      }\n\n      _allSongs.push(_newSong);\n    });\n\n    return _allSongs;\n  }\n}","import React from 'react';\n\nimport { MusicManager } from '../../services/MusicManager';\nimport { Container, TextField } from '@material-ui/core';\nimport { IMusic } from '../../models/IMusic';\nimport { PageTitle } from '../shared/page-title/PageTitle';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\n\nexport class Music extends MusicManager {\n  /** if component is mounted */\n  private _isMounted: boolean;\n\n  /** audio ref */\n  audioRef: React.RefObject<any>;\n\n  /** song list ref */\n  songListRef: React.RefObject<any>;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        allSongs: [],\n        filteredSongs: [],\n        currentSong: null,\n        nowPlayingDisplay: 'np-hide'\n      }\n    }\n\n    this._isMounted = false;\n\n    this.audioRef = React.createRef();\n    this.songListRef = React.createRef();\n\n    this.textSearch = this.textSearch.bind(this);\n    this.selectCurrentSong = this.selectCurrentSong.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this._getAllSongs().then((songs: any) => {\n      const _allSongs = this._renderAllSongs(songs);\n      if (this._isMounted) {\n        this._changeState('allSongs', _allSongs);\n        this._changeState('filteredSongs', _allSongs);\n      }\n    });\n\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n    this._isMounted = false;\n  }\n\n  /**\n   * listens to scroll event (for 'Now Playing' view)\n   * @param event \n   */\n  handleScroll(event: any) {\n    try {\n      const offset = this.songListRef.current.offsetTop;\n      if (window.scrollY > offset) {\n        this._changeState('nowPlayingDisplay', 'np-minimized');\n      } else {\n        this._changeState('nowPlayingDisplay', 'np-full');\n      }\n    } catch {}\n  }\n\n  /**\n   * handles when a song is selected from the list\n   * @param song \n   */\n  selectCurrentSong(song: IMusic) {\n    if (this.audioRef.current) {\n      this.audioRef.current.pause();\n    }\n\n    this._changeState('currentSong', song);\n\n    if (this.audioRef.current) {\n      this.audioRef.current.load();\n      this.audioRef.current.play();\n    }\n  }\n\n  \n\n  /**\n   * listens to changes to the search input\n   * @param searchString \n   */\n  textSearch(searchString: string) {\n    const _search: string = searchString.toLowerCase();\n\n    // filter by search string\n    const _filtered = this.state.data.allSongs.filter((song: IMusic) => \n      song.name.toLowerCase().indexOf(_search) > -1\n    );\n\n    this._changeState('filteredSongs', _filtered);\n  }\n\n  render() {\n    const _currentSong:IMusic = this.state.data.currentSong;\n    const _nowPlayingDisplay: string = this.state.data.nowPlayingDisplay;\n\n    return (\n      <div className=\"music-wrapper background-main padded-6y\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Music\" backLink=\"/\" backLinkDisplay=\"Home\" />\n            <div className=\"main-search-wrapper\">\n              <div className=\"main-search-icon\"><SearchIcon fontSize=\"large\" /></div>\n              <TextField id=\"outlined-basic\" label=\"Search Song\" variant=\"outlined\" onChange={event => this.textSearch(event.target.value)} /> \n            </div>\n          </div>\n          {_currentSong ? \n            <div className=\"music-now-playing padded-2x np-full\">\n              <img src={_currentSong.imageUri} alt={_currentSong.name} />\n              <div className=\"music-now-playing-title padded-2y padded-2x\">\n                <h4 className=\"font-color-white\">Now Playing</h4>\n                <h3 className=\"font-color-white\">{_currentSong.name}</h3>\n            </div>\n              <audio ref={this.audioRef} controls autoPlay>\n                <source src={_currentSong.musicUri} type=\"audio/mpeg\" />\n              </audio>\n            </div> \n            : null\n          }\n\n          <div ref={this.songListRef} className=\"music-songs-container\">\n            {this.state.data.filteredSongs ? \n              this.state.data.filteredSongs.map((song: IMusic) => \n                <div key={song.id} className=\"padded-2x music-song-item\">\n                  <span>{song.name}</span>\n                  {_currentSong && _currentSong.id === song.id ? null\n                    : <PlayArrowIcon className=\"music-play-icon\" onClick={() => this.selectCurrentSong(song)} />\n                  }\n                  </div>\n              )\n            : null}\n          </div>\n\n          {_currentSong ? \n            <div className={`music-now-playing padded-2x ${_nowPlayingDisplay}`}>\n              <img src={_currentSong.imageUri} alt={_currentSong.name} />\n              <div className=\"music-now-playing-title padded-2y padded-2x\">\n                <h4 className=\"font-color-white\">Now Playing</h4>\n                <h3 className=\"font-color-white\">{_currentSong.name}</h3>\n              </div>\n            </div>\n          : null }\n        </Container>\n      </div>\n    )\n  }\n}","import { Base } from \"../utils/base/Base\";\nimport { ICreature } from \"../models/ICreature\";\n\nexport class CreaturesManager extends Base {\n  /**\n   * get list of all bugs\n   */\n  _getAllBugs(): Promise<any> {\n    return this._get('/bugs');\n  }\n\n  /**\n   * get list of all fishes\n   */\n  _getAllFishes(): Promise<any> {\n    return this._get('/fish');\n  }\n\n  /**\n   * get list of all sea creatures\n   */\n  _getAllSeaCreatures(): Promise<any> {\n    return this._get('/sea');\n  }\n\n  /**\n   * map creature from response to interface\n   * @param creatures \n   */\n  _renderCreature(creatures: any, kind: string): ICreature[] {\n    const _allCreatures: ICreature[] = [];\n\n    creatures.forEach((creature: string) => {\n      const _newCreature: ICreature = {\n        kind: kind,\n        id: creature['id'],\n        isAllDay: creature['availability']['isAllDay'],\n        isAllYear: creature['availability']['isAllYear'],\n        location: creature['availability']['location'],\n        monthsAvailable_northern: this._getMonthArray(creature['availability']['month-array-northern']),\n        monthsAvailable_southern: this._getMonthArray(creature['availability']['month-array-southern']),\n        monthsAvailable_northern_int: creature['availability']['month-array-northern'],\n        monthsAvailable_southern_int: creature['availability']['month-array-southern'],\n        timeAvailable: creature['availability']['time-array'],\n        timeString: creature['availability']['time'],\n        iconUri: creature['icon_uri'],\n        imageUri: creature['image_uri'],\n        museumInfo: creature['museum-phrase'],\n        name: creature['name']['name-USen'],\n        price: creature['price'],\n        price_cj: creature['price-cj'] || null,\n        price_flick: creature['price-flick'] || null,\n        shadow: creature['shadow']\n      };\n\n      _allCreatures.push(_newCreature);\n    });\n\n    return _allCreatures;\n  } \n\n\n  /**\n   * return month array converted to string\n   * @param monthArr\n   */\n  _getMonthArray(monthArr: number[]): string[] {\n    const _monthArrStr: string[] = [];\n    \n    monthArr.forEach((m: number) => {\n      _monthArrStr.push(this._getMonth(m))\n    });\n\n    return _monthArrStr;\n  }\n\n    /**\n   * convert number to string value\n   * @param index \n   */\n  _getMonth(index: number): string {\n    switch(index) {\n      case 1:\n        return 'Jan';\n\n      case 2:\n        return 'Feb';\n\n      case 3:\n        return 'Mar';\n\n      case 4:\n        return 'Apr';\n\n      case 5:\n        return 'May';\n\n      case 6:\n        return 'Jun';\n\n      case 7:\n        return 'Jul';\n\n      case 8:\n        return 'Aug';\n\n      case 9:\n        return 'Sept';\n\n      case 10:\n        return 'Oct';\n\n      case 11:\n        return 'Nov';\n\n      case 12:\n        return 'Dec';\n    }\n    return '';\n  }\n}","import React from 'react';\n\nimport { ICreature } from '../../models/ICreature';\n\ninterface ICreatureProps {\n  creature: ICreature\n}\n\nexport class CreatureItem extends React.Component<ICreatureProps, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  _changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n\n    this.setState(currentState);\n  }\n\n  render() {\n    return (\n      <div className=\"fish-item\">\n        <div className=\"fish-item-image\">\n          <img src={this.props.creature.iconUri} alt={this.props.creature.name}/>\n        </div>\n        <h3 className=\"fish-item-name font-color-dark\">\n          {this.props.creature.name}\n        </h3>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport { ICreature } from '../../models/ICreature';\nimport { Grid, Chip, Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface ICreatureDetailsProps {\n  creature: ICreature | null;\n  closeAction: any\n}\n\nconst CreatureDetail = ({label, value}) => {\n  return (\n    <tr>\n      <td className=\"creature-detail-col\">{label}: </td>\n      <td className=\"creature-detail-col\">{value}</td>\n    </tr>\n  );\n};\n\nconst Months = ({month, chipClass}) => {\n  const monthsArr: string[] = month;\n  return (\n    <div>\n      {monthsArr.map((mo: string) => <Chip className={`creature-detail-chip ${chipClass}`} key={mo} label={mo} /> )} \n    </div>\n  )\n}\n\nexport class CreatureDetails extends React.Component<ICreatureDetailsProps, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const _time = this.props.creature?.isAllDay ? 'All Day' : this.props.creature?.timeString;\n    const _cjPrice = this.props.creature?.price_cj ? `(CJ - ${this.props.creature?.price_cj} Bells)` : null;\n    const _flickPrice = this.props.creature?.price_flick ? `(Flick - ${this.props.creature?.price_flick} Bells)` : null;\n\n    const _extraPrice = (_cjPrice || _flickPrice) ? \n      (this.props.creature?.price_cj ? _cjPrice : _flickPrice) \n      : '';\n      \n    const _price = `${this.props.creature?.price} Bells ${_extraPrice}`;\n\n    return (\n      <div className=\"main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n        <Grid container spacing={2}>\n          <Grid item xs={12} md={4} style={{position: \"relative\"}}>\n            <div className=\"creature-details-image\">\n              <img src={this.props.creature?.imageUri} alt={this.props.creature?.name} className=\"creature-details-image-main\" />\n              <img src={this.props.creature?.imageUri} alt={this.props.creature?.name} className=\"creature-hidden\" />\n            </div>\n          </Grid>\n\n          <Grid item xs={12} md={8}>\n            <h3>{this.props.creature?.name}</h3>\n            <table>\n              <tbody>\n                {this.props.creature?.location ? <CreatureDetail label=\"Location\" value={this.props.creature?.location} /> : null}\n                {this.props.creature?.shadow ? <CreatureDetail label=\"Shadow Size\" value={this.props.creature?.shadow} /> : null}\n                <CreatureDetail label=\"Price\" value={_price} />\n                <CreatureDetail label=\"Time\" value={_time} />\n              </tbody>\n            </table>\n          </Grid>\n\n          <Grid item xs={12}>\n            <div className=\"creature-details-main padded-2x padded-2y\">\n              <table>\n                <tbody>\n                  <CreatureDetail label=\"Months (N)\" value={<Months month={this.props.creature?.monthsAvailable_northern} chipClass=\"background-blue font-color-white\" />} />\n                  <CreatureDetail label=\"Months (S)\" value={<Months month={this.props.creature?.monthsAvailable_southern} chipClass=\"background-green font-color-white\" />} />\n                </tbody>\n              </table>\n            </div>\n            <div className=\"creature-details-main padded-2x padded-2y\">\n              <h3>Blather's Note:</h3>\n                <p></p>\n                <p>\"{this.props.creature?.museumInfo}\"</p>\n            </div>\n          </Grid>\n        </Grid>\n\n        <div className=\"creature-details-main padded-2y\">\n          <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n            <CloseIcon style={{marginRight: '5px'}}/> Close\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { ICreature } from '../../models/ICreature';\nimport { CreatureItem } from './CreatureItem';\nimport { Modal } from '@material-ui/core';\nimport { CreatureDetails } from './CreatureDetails';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\ninterface IFishState {\n  currentCreature: ICreature | null,\n  filteredCreatures: ICreature[],\n  isOpenModal: boolean\n}\n\ninterface IFishProps {\n  fishes: ICreature[]\n}\n\nexport class CreatureTab extends React.Component<IFishProps, IFishState> {\n  /** if component is mounted */\n  _isMounted: boolean;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentCreature: null,\n      filteredCreatures: [],\n      isOpenModal: false\n    };\n\n    this._isMounted = false;\n\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n\n    this._changeState('filteredCreatures', this.props.fishes);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  _changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n\n    if (this._isMounted) {\n      this.setState(currentState);\n    }\n  }\n\n  openModal(fish: ICreature) {\n    this._changeState('isOpenModal', true);\n    this._changeState('currentCreature', fish);\n  }\n\n  closeModal() {\n    this._changeState('isOpenModal', false);\n    this._changeState('currentCreature', null);\n  }\n\n\n  render() {\n    const _fishList: ICreature[] = this.state.filteredCreatures.length ? this.state.filteredCreatures : this.props.fishes;\n    return (\n      <div className=\"padded-4x padded-2y\">\n        {_fishList ? \n          <div className=\"main--flex\">\n            {_fishList.map((creature: ICreature) => \n              <div key={creature.id} onClick={() => this.openModal(creature)}>\n                <CreatureItem creature={creature} key={creature.id}/> \n              </div>\n            )}\n          </div> \n          : null\n        }\n\n        <Modal open={this.state.isOpenModal} onClose={this.closeModal}>\n          <div className=\"main-modal-wrapper\">\n            <CreatureDetails creature={this.state.currentCreature} closeAction={this.closeModal}/>\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { CreaturesManager } from '../../services/CreaturesManager';\nimport { Container, Tabs, Tab, Button } from '@material-ui/core';\nimport { PageTitle } from '../shared/page-title/PageTitle';\nimport { CreatureTab } from './CreatureTab';\nimport { ICreature } from '../../models/ICreature';\n\nexport class Creatures extends CreaturesManager {\n  /** is component mounted */\n  _isMounted: boolean;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        activeTab: 0,\n        allFishes: [],\n        allBugs: [],\n        allSeaCreatures: []\n      }\n    };\n\n    this._isMounted = false;\n    this.handleTabChange = this.handleTabChange.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this._getAllFishes().then((fishes: any) => {\n      const _allFishes: ICreature[] = this._renderCreature(fishes, 'fish');\n      if (this._isMounted) {\n        this._changeState('allFishes', _allFishes);\n      }\n    });\n\n    this._getAllBugs().then((bugs: any) => {\n      const _allBugs: ICreature[] = this._renderCreature(bugs, 'bug');\n      if (this._isMounted) {\n        this._changeState('allBugs', _allBugs);\n      }\n    });\n\n    this._getAllSeaCreatures().then((creatures: any) => {\n      const _allSeaCreatures: ICreature[] = this._renderCreature(creatures, 'sea');\n      if (this._isMounted) {\n        this._changeState('allSeaCreatures', _allSeaCreatures);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  \n\n  /**\n   * handles the tab change and sets the active tab\n   * @param event \n   * @param newValue \n   */\n  handleTabChange(event:any, newValue:any): void {\n    if (this._isMounted) {\n      this._changeState('activeTab', newValue);\n    }\n  }\n   \n  render() {\n    return (\n      <div className=\"background-main padded-6y creatures-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Creatures\" backLink=\"/\" backLinkDisplay=\"Home\" />\n            <div className=\"main-title-button-wrapper\">\n            <Link to=\"/creature/availability-calendar\">\n              <Button variant=\"contained\" disableElevation className=\"background-green\">\n                Availability Calendar\n              </Button>\n            </Link>\n            </div>\n          </div>\n\n          <div className=\"padded-2y creatures-container main-section\">\n            <Tabs\n              value={this.state.data.activeTab}\n              onChange={this.handleTabChange}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              centered>\n              <Tab label=\"Fishes\" />\n              <Tab label=\"Bugs\" />\n              <Tab label=\"Sea Creatures\" />\n            </Tabs>\n\n            <div className=\"creatures-section\">\n              <div hidden={this.state.data.activeTab != 0}>\n                <CreatureTab fishes={this.state.data.allFishes} />\n              </div>\n              <div hidden={this.state.data.activeTab != 1}>\n                <CreatureTab fishes={this.state.data.allBugs} />\n              </div>\n              <div hidden={this.state.data.activeTab != 2}>\n                <CreatureTab fishes={this.state.data.allSeaCreatures} />\n              </div>\n            </div>\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}","import { Base } from \"../utils/base/Base\";\n\nexport class ItemsManager extends Base {\n  /**\n   * get a list of all houseware items\n   */\n  _getAllHousewareItems() {\n    return this._get('/houseware');\n  }\n\n  /**\n   * get a list of all wallmounted items\n   */\n  _getAllWallmountedItems() {\n    return this._get('/wallmounted');\n  }\n\n  /**\n   * get a list of all misc items\n   */\n  _getAllMiscItems() {\n    return this._get('/misc');\n  }\n}","import React from 'react';\n\nimport { IItem } from '../../../models/IItem';\nimport { Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface IViewModalProps {\n  item: IItem;\n  closeAction: any;\n}\n\nconst ItemDetail = ({label, value}) => {\n  return <tr>\n    <td className=\"item-view-modal-col font-color-dark\">{label}:</td>\n    <td className=\"item-view-modal-col font-color-dark\">{value}</td>\n  </tr>\n}\n\nexport class DiyViewModal extends React.Component<IViewModalProps, {}> {\n  render() {\n    const _item: IItem = this.props.item;\n    const _hha1: string = _item.hhaConcept1;\n    const _hha2: string = _item.hhaConcept2 ? `, ${_item.hhaConcept2}` : '';\n\n    return(\n      <div className=\"item-view-modal-container main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n        <h2 className=\"font-color-dark item-view-modal-title\">{_item.name}</h2>\n        <div className=\"item-view-modal-image-container padded-2y\">\n          <img src={_item.imageUri} />\n        </div>\n\n        <div className=\"item-view-modal-details padded-4y padded-2x\">\n          <table>\n            <tbody>\n              <ItemDetail label=\"Sell Price\" value={`${_item.sellPrice} Bells`} />\n              <ItemDetail label=\"HHA Concept\" value={`${_hha1}${_hha2}`} />\n              {_item.tag && <ItemDetail label=\"tags\" value={_item.tag} />}\n            </tbody>\n          </table>\n        </div>\n\n        <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n          <CloseIcon style={{marginRight: '5px'}}/> Close\n        </Button>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface ICustomizeModalProps {\n  itemGroup: IItemGroup,\n  closeAction: any\n}\n\nconst CustomItem = ({imageUri, label}) => {\n  return (\n    <div className=\"item-customize-modal-item padded-1x\">\n      <div className=\"item-customize-modal-image\">\n        <img src={imageUri} alt={label} />\n      </div>\n      <p>{label}</p>\n    </div>\n  );\n}\n\nexport class DiyCustomizeModal extends React.Component<ICustomizeModalProps, {}> {\n  render() {\n    const _itemGroup: IItemGroup = this.props.itemGroup;\n\n    return(\n      <div className=\"item-customize-modal-container main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n\n        <div className=\"item-customize-modal-main padded-2y\">\n          {_itemGroup.variations.map((_item: IItem) => <CustomItem imageUri={_item.imageUri} label={_item.variant} />)}\n        </div>\n\n        <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n          <CloseIcon style={{marginRight: '5px'}}/> Close\n        </Button>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { Menu, MenuItem, Modal } from '@material-ui/core';\nimport { DiyViewModal } from './DiyViewModal';\nimport { DiyCustomizeModal } from './DiyCustomizeModal';\n\ninterface IDiyTabItemProps {\n  diyItemGroup: IItemGroup;\n}\n\ninterface IDiyTabItemState {\n  anchor: any;\n  modalViewOpen: boolean;\n  modalCustomizeOpen: boolean;\n}\n\nexport class DiyTabItem extends React.Component<IDiyTabItemProps, IDiyTabItemState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      anchor: null,\n      modalViewOpen: false,\n      modalCustomizeOpen: false\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.openViewModal = this.openViewModal.bind(this);\n    this.closeViewModal = this.closeViewModal.bind(this);\n    this.closeCustomizeModal = this.closeCustomizeModal.bind(this);\n    this.viewMenuClicked = this.viewMenuClicked.bind(this);\n    this.customizeMenuClicked = this.customizeMenuClicked.bind(this);\n  }\n\n  handleClick(event: any) {\n    this.changeState('anchor', event.currentTarget);\n  }\n\n  handleClose() {\n    this.changeState('anchor', null);\n  }\n\n  openViewModal() {\n    this.changeState('modalViewOpen', true);\n  }\n\n  closeViewModal() {\n    this.changeState('modalViewOpen', false);\n  }\n\n  openCustomizeModal() {\n    this.changeState('modalCustomizeOpen', true);\n  }\n\n  closeCustomizeModal() {\n    this.changeState('modalCustomizeOpen', false);\n  }\n\n  changeState(key: string, value: any) {\n    let currentState: IDiyTabItemState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  } \n\n  viewMenuClicked() {\n    this.openViewModal();\n    this.handleClose();\n  }\n\n  customizeMenuClicked() {\n    this.openCustomizeModal();\n    this.handleClose();\n  }\n\n  render() {\n    const _item: IItem = this.props.diyItemGroup.variations[0];\n    const _itemGroup: IItemGroup = this.props.diyItemGroup;\n    const _viewModal: boolean = this.state.modalViewOpen;\n    const _customizeModal: boolean = this.state.modalCustomizeOpen;\n\n    return (\n      <div className=\"item-tab-item font-color-dark padded-1y\">\n        <div onClick={_itemGroup.variations.length > 1 ? this.handleClick : this.viewMenuClicked}>\n          <div className=\"item-tab-image\">\n            <img src={_item.imageUri} alt={_item.name} />  \n          </div>\n          {_item.name}\n        </div>\n\n        {(this.state && _itemGroup.variations.length > 1)&& <Menu\n          id=\"simple-menu\"\n          anchorEl={this.state.anchor}\n          keepMounted\n          open={Boolean(this.state.anchor)}\n          onClose={this.handleClose}>\n          <MenuItem onClick={this.viewMenuClicked}>View</MenuItem>\n          <MenuItem onClick={this.customizeMenuClicked}>Customize</MenuItem>\n        </Menu> }\n\n        <Modal open={_viewModal} onClose={this.closeViewModal}>\n          <div className=\"main-modal-wrapper\">\n            <DiyViewModal item={_item} closeAction={this.closeViewModal} />\n          </div>\n        </Modal>\n\n        <Modal open={_customizeModal} onClose={this.closeCustomizeModal}>\n          <div className=\"main-modal-wrapper\">\n            <DiyCustomizeModal itemGroup={_itemGroup} closeAction={this.closeCustomizeModal} />\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { DiyTabItem } from './DiyTabItem';\n\nimport Pagination from '@material-ui/lab/Pagination';\n\ninterface IDiyTabProps {\n  title: string;\n  pagedDiyItems: any[];\n  allDiyItemsLength: number;\n}\n\ninterface IDiyTabState{\n  currentData: any[];\n  currentPage: number;\n}\n\nexport class DiyTab extends React.Component<IDiyTabProps, IDiyTabState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentData: [],\n      currentPage: 1\n    }\n\n    this.setPage = this.setPage.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.pagedDiyItems.length) {\n      this.changeCurrentData(this.props.pagedDiyItems[0]);\n    }\n  }\n\n  changeCurrentData(data: IItem[]) {\n    this.changeState('currentData', data);\n  }\n\n  changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n\n    this.setState(currentState);\n  }\n\n  setPage(val) {\n    this.changeCurrentData(this.props.pagedDiyItems[val-1]);\n    this.changeState('currentPage', val)\n  }\n\n  render() {\n    const _i = this.state.currentPage;\n    const _data = this.state.currentData;\n    const _pagedData = this.props.pagedDiyItems;\n\n    const _startRange = _pagedData ? ((_i-1)*100)+1 : 0;\n    const _endRange = _pagedData && _pagedData[_i-1] ? ((_i-1)*100) + _pagedData[_i-1].length : 0;\n\n    return (\n      <div className=\"item-tab-wrapper padded-4y\">\n        <h1 className=\"font-color-dark\">{this.props.title}</h1>\n        <p className=\"font-color-light\">showing {_startRange} - {_endRange} of {this.props.allDiyItemsLength} {this.props.title} Items</p>\n        \n        <div className=\"item-tab-container main--flex\">\n          {_data && _data.length ?\n            _data.map((itemGroup: IItemGroup) => {\n              return <DiyTabItem key={itemGroup.variations[0].name} diyItemGroup={itemGroup}/>\n            })\n\n            : \n            ((_pagedData && _pagedData[0]) &&\n              _pagedData[0].map((itemGroup: IItemGroup) => {\n                return <DiyTabItem key={itemGroup.variations[0].name} diyItemGroup={itemGroup}/>\n              }))\n          }\n        </div>\n\n        <Pagination count={_pagedData.length} onChange={(event,val)=> this.setPage(val)}/>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { ItemsManager } from '../../../services/ItemsManager';\nimport { Container, Tabs, Tab, Tooltip } from '@material-ui/core';\nimport { PageTitle } from '../../shared/page-title/PageTitle';\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { DiyTab } from './DiyTab';\n\nimport KitchenIcon from '@material-ui/icons/Kitchen';\nimport FilterFramesIcon from '@material-ui/icons/FilterFrames';\nimport LocalCafeIcon from '@material-ui/icons/LocalCafe';\n\n\ninterface IRenderedItem {\n  allItems: any,\n  pagedItems: any\n}\n\nexport class Diy extends ItemsManager {\n  /** if component is mounted */\n  _isMounted: boolean;\n\n  constructor(props) {\n    super(props);\n\n    this._isMounted = false;\n    this.state = {\n      data: {\n        activeTab: 0,\n        allHousewareItems: [],\n        allWallmountedItems: [],\n        allMiscItems: [],\n        pagedHousewareItems: [],\n        pagedWallmountedItems: [],\n        pagedMiscItems: []\n      }\n    }\n\n    this.handleTabChange = this.handleTabChange.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this._getAllHousewareItems().then((housewares: any) => {\n      const items: IRenderedItem = this.renderItems(housewares);\n      if (this._isMounted) {\n        this._changeState('allHousewareItems', items.allItems);\n        this._changeState('pagedHousewareItems', items.pagedItems);\n      }\n    });\n\n    this._getAllWallmountedItems().then((wallmounted: any) => {\n      const items: IRenderedItem = this.renderItems(wallmounted);\n      if (this._isMounted) {\n        this._changeState('allWallmountedItems', items.allItems);\n        this._changeState('pagedWallmountedItems', items.pagedItems);\n      }\n    });\n\n    this._getAllMiscItems().then((misc: any) => {\n      const items: IRenderedItem = this.renderItems(misc);\n      if (this._isMounted) {\n        this._changeState('allMiscItems', items.allItems);\n        this._changeState('pagedMiscItems', items.pagedItems);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n\n\n  /**\n   * handles the tab change and sets the active tab\n   * @param event \n   * @param newValue \n   */\n  handleTabChange(event:any, newValue:any): void {\n    this._changeState('activeTab', newValue);\n  }\n\n  /** \n   * map data needed for the view from the response\n   */\n  renderItems(items: any): IRenderedItem {\n    const _allHouseware: IItemGroup[] = [];\n    const _pagedHouseware: any[] = [];\n    let _newPage: IItemGroup[] = [];\n\n    items.forEach((itemGroup: any[]) => {\n      let _variations: IItem[] = [];\n      if (itemGroup[0]['isDIY']) {\n        itemGroup.forEach((item: any) => {\n          const _newDiyItem:IItem = {\n            buyPrice: item['buy-price'],\n            canCustomize: item['canCustomizeBody'] || item['canCustomizePattern'],\n            color1: item['color-1'],\n            color2: item['color-2'],\n            hhaConcept1: item['hha-concept-1'],\n            hhaConcept2: item['hha-concept-2'] || '',\n            imageUri: item['image_uri'],\n            isCatalog: item['isCatalog'],\n            isDiy: item['isDIY'],\n            isInteractive: item['isInteractive'],\n            isOutdoor: item['isOutdoor'],\n            name: item['name']['name-USen'],\n            pattern: item['pattern'],\n            sellPrice: item['sell-price'],\n            source: item['source'],\n            tag: item['tag'],\n            variant: item['variant']\n          }\n\n          _variations.push(_newDiyItem);\n        });\n\n        const _newDiyItemGroup: IItemGroup = {\n          variations: _variations\n        }\n        \n        _allHouseware.push(_newDiyItemGroup);\n        _newPage.push(_newDiyItemGroup);\n        if (_newPage.length === 100) {\n          _pagedHouseware.push([..._newPage]);\n          _newPage = [];\n        }\n      }\n    });\n\n    if (_newPage.length) {\n      _pagedHouseware.push([..._newPage]);\n    }\n\n    return {\n      allItems: _allHouseware,\n      pagedItems: _pagedHouseware\n    }\n  }\n\n  render() {\n    const _activeTab = this.state.data.activeTab;\n    const _pagedHousewareItems:IItem[] = this.state.data.pagedHousewareItems;\n    const _pagedWallmountedItems:IItem[] = this.state.data.pagedWallmountedItems;\n    const _pagedMiscItems:IItem[] = this.state.data.pagedMiscItems;\n\n\n    const _allHousewareItemsLength:number = this.state.data.allHousewareItems.length;\n    const _allWallmountedItemsLength:number = this.state.data.allWallmountedItems.length;\n    const _allMiscItemsLength:number = this.state.data.allMiscItems.length;\n\n    return (\n      <div className=\"background-main padded-6y item-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"DIY Items\" backLink=\"/\" backLinkDisplay=\"Home\" />\n            <div className=\"main-search-wrapper\">\n              {/* <div className=\"main-search-icon\"><SearchIcon fontSize=\"large\" /></div>\n              <TextField id=\"outlined-basic\" label=\"Search Villager\" variant=\"outlined\" onChange={event => this.textSearchChange(event.target.value)} />  */}\n            </div>\n          </div>\n          \n          <div className=\"padded-2y padded-4x item-container main-section\">\n            <Tabs\n              value={_activeTab}\n              onChange={this.handleTabChange}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              centered>\n              <Tab icon={<Tooltip title=\"Housewares\"><KitchenIcon /></Tooltip>} />\n              <Tab icon={<Tooltip title=\"Wallmounted\"><FilterFramesIcon /></Tooltip>} />\n              <Tab icon={<Tooltip title=\"Miscellaneous\"><LocalCafeIcon /></Tooltip>} />\n            </Tabs>\n\n            <div className=\"item-section\">\n              {_activeTab === 0 &&\n                <DiyTab title=\"Houseware\" pagedDiyItems={_pagedHousewareItems} allDiyItemsLength={_allHousewareItemsLength} />\n              }\n\n              {_activeTab === 1 &&\n                <DiyTab title=\"Wallmounted\" pagedDiyItems={_pagedWallmountedItems} allDiyItemsLength={_allWallmountedItemsLength} />\n              }\n\n              {_activeTab === 2 &&\n                <DiyTab title=\"Miscellaneous\" pagedDiyItems={_pagedMiscItems} allDiyItemsLength={_allMiscItemsLength} />\n              }\n            </div>\n          </div>\n        </Container>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem } from '../../../models/IItem';\nimport { Button, Chip } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface IShoppingViewModalProps {\n  item: IItem;\n  closeAction: any;\n}\n\nconst ItemDetail = ({label, value}) => {\n  return <tr>\n    <td className=\"item-view-modal-col font-color-dark\">{label}:</td>\n    <td className=\"item-view-modal-col font-color-dark\">{value}</td>\n  </tr>\n}\n\nexport class ShoppingViewModal extends React.Component<IShoppingViewModalProps, {}> {\n  render() {\n    const _item: IItem = this.props.item;\n    const _hha1: string = _item.hhaConcept1;\n    const _hha2: string = _item.hhaConcept2 ? `, ${_item.hhaConcept2}` : '';\n\n    return(\n      <div className=\"item-view-modal-container main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n        <h2 className=\"font-color-dark item-view-modal-title\">{_item.name}</h2>\n        <div className=\"item-view-modal-image-container padded-2y\">\n          <img src={_item.imageUri} />\n        </div>\n\n        <div className=\"item-view-modal-details padded-2y padded-2x\">\n          <div className=\"item-view-chip-list padded-2y\">\n            {_item.isOutdoor && <Chip className=\"app-chip-item background-green\" size=\"small\" label=\"Outdoor\" />}\n            {_item.isInteractive && <Chip className=\"app-chip-item background-blue\" size=\"small\" label=\"Interactive\" />}\n          </div>\n          <table>\n            <tbody>\n              <ItemDetail label=\"Item Price\" value={`${_item.buyPrice} Bells`} />\n              <ItemDetail label=\"Sell Price\" value={`${_item.sellPrice} Bells`} />\n              <ItemDetail label=\"HHA Concept\" value={`${_hha1}${_hha2}`} />\n              {_item.tag && <ItemDetail label=\"tags\" value={_item.tag} />}\n            </tbody>\n          </table>\n        </div>\n\n        <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n          <CloseIcon style={{marginRight: '5px'}}/> Close\n        </Button>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface IShoppingColorsModalProps {\n  itemGroup: IItemGroup,\n  closeAction: any\n}\n\nconst CustomItem = ({imageUri, label}) => {\n  return (\n    <div className=\"item-customize-modal-item padded-1x\">\n      <div className=\"item-customize-modal-image\">\n        <img src={imageUri} alt={label} />\n      </div>\n      <p>{label}</p>\n    </div>\n  );\n}\n\nexport class ShoppingColorsModal extends React.Component<IShoppingColorsModalProps, {}> {\n  render() {\n    const _itemGroup: IItemGroup = this.props.itemGroup;\n\n    return(\n      <div className=\"item-customize-modal-container main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n\n        <div className=\"item-customize-modal-main padded-2y\">\n          {_itemGroup.variations.map((_item: IItem) => <CustomItem imageUri={_item.imageUri} label={_item.variant} />)}\n        </div>\n\n        <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n          <CloseIcon style={{marginRight: '5px'}}/> Close\n        </Button>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { Menu, MenuItem, Modal } from '@material-ui/core';\nimport { ShoppingViewModal } from './ShoppingViewModal';\nimport { ShoppingColorsModal } from './ShoppingColorsModal';\n\nimport NotificationsIcon from '@material-ui/icons/Notifications';\n\ninterface IShoppingTabItemProps {\n  shoppingItemGroup: IItemGroup;\n}\n\ninterface IShoppingTabItemState {\n  anchor: any;\n  modalViewOpen: boolean;\n  modalCustomizeOpen: boolean;\n}\n\nexport class ShoppingTabItem extends React.Component<IShoppingTabItemProps, IShoppingTabItemState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      anchor: null,\n      modalViewOpen: false,\n      modalCustomizeOpen: false\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.openViewModal = this.openViewModal.bind(this);\n    this.closeViewModal = this.closeViewModal.bind(this);\n    this.closeColorsModal = this.closeColorsModal.bind(this);\n    this.viewMenuClicked = this.viewMenuClicked.bind(this);\n    this.customizeMenuClicked = this.customizeMenuClicked.bind(this);\n  }\n\n  handleClick(event: any) {\n    this.changeState('anchor', event.currentTarget);\n  }\n\n  handleClose() {\n    this.changeState('anchor', null);\n  }\n\n  openViewModal() {\n    this.changeState('modalViewOpen', true);\n  }\n\n  closeViewModal() {\n    this.changeState('modalViewOpen', false);\n  }\n\n  openCustomizeModal() {\n    this.changeState('modalCustomizeOpen', true);\n  }\n\n  closeColorsModal() {\n    this.changeState('modalCustomizeOpen', false);\n  }\n\n  changeState(key: string, value: any) {\n    let currentState: IShoppingTabItemState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  } \n\n  viewMenuClicked() {\n    this.openViewModal();\n    this.handleClose();\n  }\n\n  customizeMenuClicked() {\n    this.openCustomizeModal();\n    this.handleClose();\n  }\n\n  render() {\n    const _item: IItem = this.props.shoppingItemGroup.variations[0];\n    const _itemGroup: IItemGroup = this.props.shoppingItemGroup;\n    const _viewModal: boolean = this.state.modalViewOpen;\n    const _customizeModal: boolean = this.state.modalCustomizeOpen;\n\n    return (\n      <div className=\"item-tab-item font-color-dark padded-1y\">\n        <div onClick={_itemGroup.variations.length > 1 ? this.handleClick : this.viewMenuClicked}>\n          <div className=\"item-tab-image\">\n            <img src={_item.imageUri} alt={_item.name} />  \n          </div>\n          <p>{_item.name}</p>\n          {_item.buyPrice\n            ? <div className=\"font-color-light item-price-wrapper\">\n                <p className=\"item-bells\"><NotificationsIcon fontSize=\"small\"/></p>\n                <p>{_item.buyPrice}</p>\n              </div>\n            : <p className=\"font-color-light\">--</p>}\n        </div>\n\n        {(this.state && _itemGroup.variations.length > 1)&& <Menu\n          id=\"simple-menu\"\n          anchorEl={this.state.anchor}\n          keepMounted\n          open={Boolean(this.state.anchor)}\n          onClose={this.handleClose}>\n          <MenuItem onClick={this.viewMenuClicked}>View</MenuItem>\n          <MenuItem onClick={this.customizeMenuClicked}>Colors</MenuItem>\n        </Menu> }\n\n        <Modal open={_viewModal} onClose={this.closeViewModal}>\n          <div className=\"main-modal-wrapper\">\n            <ShoppingViewModal item={_item} closeAction={this.closeViewModal} />\n          </div>\n        </Modal>\n\n        <Modal open={_customizeModal} onClose={this.closeColorsModal}>\n          <div className=\"main-modal-wrapper\">\n            <ShoppingColorsModal itemGroup={_itemGroup} closeAction={this.closeColorsModal} />\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport Pagination from '@material-ui/lab/Pagination';\n\nimport { ShoppingTabItem } from './ShoppingTabItem';\nimport { IItem, IItemGroup } from '../../../models/IItem';\n\ninterface IShoppingTabProps {\n  title: string;\n  pagedDiyItems: any[];\n  allDiyItemsLength: number;\n}\n\ninterface IShoppingTabState{\n  currentData: any[];\n  currentPage: number;\n}\n\nexport class ShoppingTab extends React.Component<IShoppingTabProps, IShoppingTabState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentData: [],\n      currentPage: 1\n    }\n\n    this.setPage = this.setPage.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.pagedDiyItems.length) {\n      this.changeCurrentData(this.props.pagedDiyItems[0]);\n    }\n  }\n\n  changeCurrentData(data: IItem[]) {\n    this.changeState('currentData', data);\n  }\n\n  changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n\n    this.setState(currentState);\n  }\n\n  setPage(val) {\n    this.changeCurrentData(this.props.pagedDiyItems[val-1]);\n    this.changeState('currentPage', val)\n  }\n\n  render() {\n    const _i = this.state.currentPage;\n    const _data = this.state.currentData;\n    const _pagedData = this.props.pagedDiyItems;\n\n    const _startRange = _pagedData ? ((_i-1)*100)+1 : 0;\n    const _endRange = _pagedData && _pagedData[_i-1] ? ((_i-1)*100) + _pagedData[_i-1].length : 0;\n\n    return (\n      <div className=\"item-tab-wrapper padded-4y\">\n        <h1 className=\"font-color-dark\">{this.props.title}</h1>\n        <p className=\"font-color-light\">showing {_startRange} - {_endRange} of {this.props.allDiyItemsLength} {this.props.title} Items</p>\n        \n        <div className=\"item-tab-container main--flex\">\n          {_data && _data.length ?\n            _data.map((itemGroup: IItemGroup) => {\n              return <ShoppingTabItem key={itemGroup.variations[0].name} shoppingItemGroup={itemGroup}/>\n            })\n\n            : \n            ((_pagedData && _pagedData[0]) &&\n              _pagedData[0].map((itemGroup: IItemGroup) => {\n                return <ShoppingTabItem key={itemGroup.variations[0].name} shoppingItemGroup={itemGroup}/>\n              }))\n          }\n        </div>\n\n        <Pagination count={_pagedData.length} onChange={(event,val)=> this.setPage(val)}/>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItemGroup, IItem } from '../../../models/IItem';\nimport { ShoppingTab } from './ShoppingTab';\nimport { ItemsManager } from \"../../../services/ItemsManager\";\nimport { Container, Tabs, Tab, Tooltip } from '@material-ui/core';\nimport { PageTitle } from '../../shared/page-title/PageTitle';\n\nimport KitchenIcon from '@material-ui/icons/Kitchen';\nimport FilterFramesIcon from '@material-ui/icons/FilterFrames';\nimport LocalCafeIcon from '@material-ui/icons/LocalCafe';\n\ninterface IRenderedItem {\n  allItems: any,\n  pagedItems: any\n}\n\nexport class Shopping extends ItemsManager {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        activeTab: 0,\n        allHousewareItems: [],\n        allWallmountedItems: [],\n        allMiscItems: [],\n        pagedHousewareItems: [],\n        pagedWallmountedItems: [],\n        pagedMiscItems: []\n      }\n    }\n  \n    this.handleTabChange = this.handleTabChange.bind(this);\n  }\n\n  componentDidMount() {\n    this._getAllHousewareItems().then((housewares: any) => {\n      const items: IRenderedItem = this.renderItems(housewares);\n      this._changeState('allHousewareItems', items.allItems);\n      this._changeState('pagedHousewareItems', items.pagedItems);\n    });\n\n    this._getAllWallmountedItems().then((wallmounted: any) => {\n      const items: IRenderedItem = this.renderItems(wallmounted);\n      this._changeState('allWallmountedItems', items.allItems);\n      this._changeState('pagedWallmountedItems', items.pagedItems);\n    });\n\n    this._getAllMiscItems().then((misc: any) => {\n      const items: IRenderedItem = this.renderItems(misc);\n      this._changeState('allMiscItems', items.allItems);\n      this._changeState('pagedMiscItems', items.pagedItems);\n    });\n  }\n\n  /**\n   * handles the tab change and sets the active tab\n   * @param event \n   * @param newValue \n   */\n  handleTabChange(event:any, newValue:any): void {\n    this._changeState('activeTab', newValue);\n  }\n\n  /** \n   * map data needed for the view from the response\n   */\n  renderItems(items: any): IRenderedItem {\n    const _allHouseware: IItemGroup[] = [];\n    const _pagedHouseware: any[] = [];\n    let _newPage: IItemGroup[] = [];\n\n    items.forEach((itemGroup: any[]) => {\n      let _variations: IItem[] = [];\n      if (!itemGroup[0]['isDIY'] && itemGroup[0]['buy-price']) {\n        itemGroup.forEach((item: any) => {\n          const _newDiyItem:IItem = {\n            buyPrice: item['buy-price'],\n            canCustomize: item['canCustomizeBody'] || item['canCustomizePattern'],\n            color1: item['color-1'],\n            color2: item['color-2'],\n            hhaConcept1: item['hha-concept-1'],\n            hhaConcept2: item['hha-concept-2'] || '',\n            imageUri: item['image_uri'],\n            isCatalog: item['isCatalog'],\n            isDiy: item['isDIY'],\n            isInteractive: item['isInteractive'],\n            isOutdoor: item['isOutdoor'],\n            name: item['name']['name-USen'],\n            pattern: item['pattern'],\n            sellPrice: item['sell-price'],\n            source: item['source'],\n            tag: item['tag'],\n            variant: item['variant']\n          }\n\n          _variations.push(_newDiyItem);\n        });\n\n        const _newDiyItemGroup: IItemGroup = {\n          variations: _variations\n        }\n        \n        _allHouseware.push(_newDiyItemGroup);\n        _newPage.push(_newDiyItemGroup);\n        if (_newPage.length === 100) {\n          _pagedHouseware.push([..._newPage]);\n          _newPage = [];\n        }\n      }\n    });\n\n    if (_newPage.length) {\n      _pagedHouseware.push([..._newPage]);\n    }\n\n    return {\n      allItems: _allHouseware,\n      pagedItems: _pagedHouseware\n    }\n  }\n\n  render() {\n    const _activeTab = this.state.data.activeTab;\n    const _pagedHousewareItems:IItem[] = this.state.data.pagedHousewareItems;\n    const _pagedWallmountedItems:IItem[] = this.state.data.pagedWallmountedItems;\n    const _pagedMiscItems:IItem[] = this.state.data.pagedMiscItems;\n\n\n    const _allHousewareItemsLength:number = this.state.data.allHousewareItems.length;\n    const _allWallmountedItemsLength:number = this.state.data.allWallmountedItems.length;\n    const _allMiscItemsLength:number = this.state.data.allMiscItems.length;\n\n    return (\n      <div className=\"background-main padded-6y item-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Shopping\" backLink=\"/\" backLinkDisplay=\"Home\" />\n          </div>\n          <div className=\"padded-2y padded-4x item-container main-section\">\n            <Tabs\n              value={_activeTab}\n              onChange={this.handleTabChange}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              centered>\n              <Tab icon={<Tooltip title=\"Housewares\"><KitchenIcon /></Tooltip>} />\n              <Tab icon={<Tooltip title=\"Wallmounted\"><FilterFramesIcon /></Tooltip>} />\n              <Tab icon={<Tooltip title=\"Miscellaneous\"><LocalCafeIcon /></Tooltip>} />\n            </Tabs>\n\n            <div className=\"item-section\">\n              {_activeTab === 0 &&\n                <ShoppingTab title=\"Houseware\" pagedDiyItems={_pagedHousewareItems} allDiyItemsLength={_allHousewareItemsLength} />\n              }\n\n              {_activeTab === 1 &&\n                <ShoppingTab title=\"Wallmounted\" pagedDiyItems={_pagedWallmountedItems} allDiyItemsLength={_allWallmountedItemsLength} />\n              }\n\n              {_activeTab === 2 &&\n                <ShoppingTab title=\"Miscellaneous\" pagedDiyItems={_pagedMiscItems} allDiyItemsLength={_allMiscItemsLength} />\n              }\n            </div>\n          </div>\n        </Container>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface IFreebiesCustomizeModalProps {\n  itemGroup: IItemGroup,\n  closeAction: any\n}\n\nconst CustomItem = ({imageUri, label, pattern}) => {\n  return (\n    <div className=\"item-customize-modal-item padded-1x\">\n      <div className=\"item-customize-modal-image\">\n        <img src={imageUri} alt={label} />\n      </div>\n      <p className=\"item-customize-modal-text\">\n        <span>{label}</span>\n        {pattern && <span>: {pattern}</span>}\n      </p>\n    </div>\n  );\n}\n\nexport class FreebiesCustomizeModal extends React.Component<IFreebiesCustomizeModalProps, {}> {\n  render() {\n    const _itemGroup: IItemGroup = this.props.itemGroup;\n\n    return(\n      <div className=\"item-customize-modal-container main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n\n        <div className=\"item-customize-modal-main padded-2y\">\n          {_itemGroup.variations.map((_item: IItem) => \n            <CustomItem key={_item.variant} imageUri={_item.imageUri} label={_item.variant} pattern={_item.pattern} />\n          )}\n        </div>\n\n        <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n          <CloseIcon style={{marginRight: '5px'}}/> Close\n        </Button>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem } from '../../../models/IItem';\nimport { Button, Chip } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface IFreebiesViewModalProps {\n  item: IItem;\n  closeAction: any;\n}\n\nconst ItemDetail = ({label, value}) => {\n  return <tr>\n    <td className=\"item-view-modal-col font-color-dark\">{label}:</td>\n    <td className=\"item-view-modal-col font-color-dark\">{value}</td>\n  </tr>\n}\n\nexport class FreebiesViewModal extends React.Component<IFreebiesViewModalProps, {}> {\n  render() {\n    const _item: IItem = this.props.item;\n    const _hha1: string = _item.hhaConcept1;\n    const _hha2: string = _item.hhaConcept2 ? `, ${_item.hhaConcept2}` : '';\n\n    return(\n      <div className=\"item-view-modal-container main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n        <h2 className=\"font-color-dark item-view-modal-title\">{_item.name}</h2>\n        <div className=\"item-view-modal-image-container padded-2y\">\n          <img src={_item.imageUri} />\n        </div>\n\n        <div className=\"item-view-modal-details padded-2y padded-2x\">\n          <div className=\"item-view-chip-list padded-2y\">\n            {_item.isOutdoor && <Chip className=\"app-chip-item background-green\" size=\"small\" label=\"Outdoor\" />}\n            {_item.isInteractive && <Chip className=\"app-chip-item background-blue\" size=\"small\" label=\"Interactive\" />}\n          </div>\n          <table>\n            <tbody>\n              <ItemDetail label=\"Sell Price\" value={`${_item.sellPrice} Bells`} />\n              {_item.tag && <ItemDetail label=\"tags\" value={_item.tag} />}\n            </tbody>\n          </table>\n        </div>\n\n        <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n          <CloseIcon style={{marginRight: '5px'}}/> Close\n        </Button>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IItem, IItemGroup } from '../../../models/IItem';\nimport { Menu, MenuItem, Modal } from '@material-ui/core';\nimport { FreebiesCustomizeModal } from './FreebiesCustomizeModal';\nimport { FreebiesViewModal } from './FreebiesViewModal';\n\ninterface IFreebiesItemProps {\n  diyItemGroup: IItemGroup;\n}\n\ninterface IFreebiesItemState {\n  anchor: any;\n  modalViewOpen: boolean;\n  modalCustomizeOpen: boolean;\n}\n\nexport class FreebiesItem extends React.Component<IFreebiesItemProps, IFreebiesItemState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      anchor: null,\n      modalViewOpen: false,\n      modalCustomizeOpen: false\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.openViewModal = this.openViewModal.bind(this);\n    this.closeViewModal = this.closeViewModal.bind(this);\n    this.closeCustomizeModal = this.closeCustomizeModal.bind(this);\n    this.viewMenuClicked = this.viewMenuClicked.bind(this);\n    this.customizeMenuClicked = this.customizeMenuClicked.bind(this);\n  }\n\n  handleClick(event: any) {\n    this.changeState('anchor', event.currentTarget);\n  }\n\n  handleClose() {\n    this.changeState('anchor', null);\n  }\n\n  openViewModal() {\n    this.changeState('modalViewOpen', true);\n  }\n\n  closeViewModal() {\n    this.changeState('modalViewOpen', false);\n  }\n\n  openCustomizeModal() {\n    this.changeState('modalCustomizeOpen', true);\n  }\n\n  closeCustomizeModal() {\n    this.changeState('modalCustomizeOpen', false);\n  }\n\n  changeState(key: string, value: any) {\n    let currentState: IFreebiesItemState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  } \n\n  viewMenuClicked() {\n    this.openViewModal();\n    this.handleClose();\n  }\n\n  customizeMenuClicked() {\n    this.openCustomizeModal();\n    this.handleClose();\n  }\n\n  render() {\n    const _item: IItem = this.props.diyItemGroup.variations[0];\n    const _itemGroup: IItemGroup = this.props.diyItemGroup;\n    const _viewModal: boolean = this.state.modalViewOpen;\n    const _customizeModal: boolean = this.state.modalCustomizeOpen;\n\n    return (\n      <div className=\"item-tab-item font-color-dark padded-1y\">\n        <div onClick={_itemGroup.variations.length > 1 ? this.handleClick : this.viewMenuClicked}>\n          <div className=\"item-tab-image\">\n            <img src={_item.imageUri} alt={_item.name} />  \n          </div>\n          {_item.name}\n        </div>\n\n        {(this.state && _itemGroup.variations.length > 1)&& <Menu\n          id=\"simple-menu\"\n          anchorEl={this.state.anchor}\n          keepMounted\n          open={Boolean(this.state.anchor)}\n          onClose={this.handleClose}>\n          <MenuItem onClick={this.viewMenuClicked}>View</MenuItem>\n          <MenuItem onClick={this.customizeMenuClicked}>Customize</MenuItem>\n        </Menu> }\n\n        <Modal open={_viewModal} onClose={this.closeViewModal}>\n          <div className=\"main-modal-wrapper\">\n            <FreebiesViewModal item={_item} closeAction={this.closeViewModal} />\n          </div>\n        </Modal>\n\n        <Modal open={_customizeModal} onClose={this.closeCustomizeModal}>\n          <div className=\"main-modal-wrapper\">\n            <FreebiesCustomizeModal itemGroup={_itemGroup} closeAction={this.closeCustomizeModal} />\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IFreebieGroup, IItemGroup } from '../../../models/IItem';\nimport { FreebiesItem } from './FreebiesItem';\n\ninterface IFreebieItemProps {\n  items: IFreebieGroup;\n}\n\ninterface IFreebieItemState {\n  anchor: any;\n  modalViewOpen: boolean;\n  modalCustomizeOpen: boolean;\n}\n\nexport class FreebiesItemGroup extends React.Component<IFreebieItemProps, IFreebieItemState> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return <div className=\"main--flex\">\n      {this.props.items && this.props.items.data &&\n        this.props.items.data.map((item: IItemGroup) => \n          <FreebiesItem key={`${item.variations[0].variant}-${item.variations[0].name}`} diyItemGroup={item} />)\n      }\n    </div>\n  }\n}","import React from 'react';\n\nimport { IFreebieGroup, IItem, IItemGroup } from '../models/IItem';\nimport { ItemsManager } from './ItemsManager';\n\n\nexport class FreebiesManager extends ItemsManager {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        freebieId: this.props.match.params.freebie_id,\n        selectedFreebieItems: [],\n        allItems: [],\n        allFreebies: {},\n        loaded: false\n      }\n    }\n  }\n\n  componentDidMount() {\n    this._getAllHousewareItems().then((housewares: any) => {\n      this.renderItems(housewares);\n\n      this._getAllWallmountedItems().then((wallmounted: any) => {\n        this.renderItems(wallmounted);\n\n        this._getAllMiscItems().then((misc: any) => {\n          this.renderItems(misc);\n          this._changeState('loaded', true);\n        });\n      });\n    });\n  }\n\n  /** \n   * map data needed for the view from the response\n   */\n  renderItems(items: any): void {\n    const _freebieItems: IFreebieGroup[] = [];\n    const _freebies: any = {...this.state.data.allFreebies};\n\n    items.forEach((itemGroup: any[]) => {\n      let _variations: IItem[] = [];\n      if (!itemGroup[0]['isDIY'] && !itemGroup[0]['buy-price']) {\n        itemGroup.forEach((item: any) => {\n          const _newItem:IItem = {\n            buyPrice: item['buy-price'],\n            canCustomize: item['canCustomizeBody'] || item['canCustomizePattern'],\n            color1: item['color-1'],\n            color2: item['color-2'],\n            hhaConcept1: item['hha-concept-1'],\n            hhaConcept2: item['hha-concept-2'] || '',\n            imageUri: item['image_uri'],\n            isCatalog: item['isCatalog'],\n            isDiy: item['isDIY'],\n            isInteractive: item['isInteractive'],\n            isOutdoor: item['isOutdoor'],\n            name: item['name']['name-USen'],\n            pattern: item['pattern'],\n            sellPrice: item['sell-price'],\n            source: item['source'],\n            tag: item['tag'],\n            variant: item['variant']\n          }\n\n          _variations.push(_newItem);\n        });\n\n        const _newDiyItemGroup: IItemGroup = {\n          variations: _variations\n        }\n\n        // initialize if needed\n        if(!_freebies[_variations[0].source]) {\n          _freebies[_variations[0].source] = [];\n        }\n\n        _freebies[_variations[0].source].push(_newDiyItemGroup);\n      }\n    });\n\n    this._changeState('allFreebies', _freebies);\n\n    Object.keys(_freebies).forEach((key: string) => {\n      let _shortKey = key.split(' ').join('-').split('.').join('').toLowerCase();;\n\n      const _newFreebieGroup: IFreebieGroup = {\n        id_long: key,\n        id_short: _shortKey,\n        data: _freebies[key]\n      }\n\n      _freebieItems.push(_newFreebieGroup);\n    });\n\n    const _id: string = this.state.data.freebieId;\n    if (_id != null) {\n      const _filtered: any = _freebieItems.find((f: IFreebieGroup) => f.id_short === this.state.data.freebieId);\n      this._changeState('selectedFreebieItems', _filtered);\n    } else {\n      this._changeState('allItems', _freebieItems);\n    }\n  }\n}","import React from 'react';\n\nimport { Container } from '@material-ui/core';\nimport { PageTitle } from '../../shared/page-title/PageTitle';\nimport { FreebiesItemGroup } from './FreebiesItemGroup';\nimport { FreebiesManager } from '../../../services/FreebiesManager';\nimport { LoadingState } from '../../shared/loading-state/LoadingState';\n\n\nimport Skeleton from '@material-ui/lab/Skeleton';\nexport class FreebiesPage extends FreebiesManager {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        freebieId: this.props.match.params.freebie_id,\n        selectedFreebieItems: [],\n        allItems: [],\n        allFreebies: {},\n        loaded: false\n      }\n    }\n  }\n\n  render() {\n    const _selectedItemData = this.state.data.selectedFreebieItems && this.state.data.selectedFreebieItems;\n    const _idLong: string = this.state.data && this.state.data.selectedFreebieItems ? this.state.data.selectedFreebieItems.id_long : '';\n    const _freebieId: string = this.state.data.freebieId;\n    const _isAll: boolean = _freebieId === 'all';\n    const _title: string = _isAll ? 'Freebies and Redemptions' : `Freebies - ${_idLong}`;\n\n\n    const _backLink: any = {\n      link: _isAll ? '/' : '/freebies-redeemable/all',\n      display: _isAll ? 'Home' : 'Freebies and Redemptions'\n    }\n\n    return (\n      <div className=\"background-main padded-6y item-wrapper\">\n        <Container>\n          {this.state.data.loaded \n            ? <div className=\"main-title-container\">\n              <PageTitle pageTitle={_title} backLink={_backLink.link} backLinkDisplay={_backLink.display} />\n            </div>\n            : <div className=\"main-title-container\">\n              <div className=\"padded-2y\">\n                <div className=\"padded-2y\">\n                  <Skeleton variant=\"rect\" width={200} height={14} />\n                </div>\n                <Skeleton variant=\"rect\" width={200} height={30} />\n              </div>\n            </div>\n          } \n          <div className=\"padded-2y padded-4x item-container main-section\">\n            {this.state.data.loaded \n              ? <FreebiesItemGroup items={_selectedItemData} />\n              : <LoadingState />\n            }\n          </div>\n        </Container>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\n\nimport { IFreebieGroup } from '../../../models/IItem';\nimport { Link } from \"react-router-dom\"; \nimport { PageTitle } from '../../shared/page-title/PageTitle';\nimport { Container } from '@material-ui/core';\nimport { FreebiesManager } from '../../../services/FreebiesManager';\nimport { LoadingState } from '../../shared/loading-state/LoadingState';\n\nexport class FreebiesAll extends FreebiesManager {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        freebieId: this.props.match.params.freebie_id,\n        selectedFreebieItems: [],\n        allItems: [],\n        allFreebies: {},\n        loaded: false\n      }\n    }\n  }\n\n  render() {\n    const _allItems = this.state.data.allItems;\n    return (\n      <div className=\"background-main padded-6y item-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Freebies and Redemptions\" backLink=\"/\" backLinkDisplay=\"Home\" />\n          </div>\n          \n          <div className=\"padded-2y padded-4x item-container main-section\">\n            {this.state.data.loaded ?\n              <div className=\"freebies-all-wrapper padded-4y padded-2x\">\n                { _allItems && \n                  _allItems.map((freebieGroup: IFreebieGroup) => {\n                    return (\n                      <Link to={`../freebies/${freebieGroup.id_short}`} key={freebieGroup.id_short}>\n                        <div className=\"freebies-all-item padded-2x padded-2y font-color-dark\">\n                          <p><CardGiftcardIcon/></p>\n                          <p>{freebieGroup.id_long}</p>\n                        </div>\n                      </Link>\n                    )\n                  })\n                }\n              </div>\n              : <LoadingState />\n            }\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { Base } from '../utils/base/Base';\n\nexport class ArtManager extends Base {\n  /**\n   * get a list of all artworks\n   */\n  _getAllArt() {\n    return this._get('/art');\n  }\n}","import React from 'react';\n\nimport { IArt } from '../../models/IArt';\n\nimport Skeleton from '@material-ui/lab/Skeleton';\n\ninterface IArtItemProps {\n  art: IArt;\n}\n\ninterface IArtItemState {\n  imageLoaded: boolean;\n}\n\nexport class ArtItem extends React.Component<IArtItemProps, IArtItemState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageLoaded: false\n    }\n\n    this.onImageLoad = this.onImageLoad.bind(this);\n  }\n\n  _changeState(key: string, value: any) {\n    let currentState:IArtItemState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  }\n\n  /**\n   * handles when images are loaded\n   */\n  onImageLoad() {\n    this._changeState('imageLoaded', true);\n  }\n\n  render() {\n    const _art = this.props.art;\n    const _imageLoaded = this.state.imageLoaded;\n    return (\n      <div className=\"art-item-container\">\n        {!_imageLoaded && \n          <div className=\"art-item-skeleton\">\n            <Skeleton variant=\"rect\" width={128} height={128} />\n          </div>\n        }\n        <div className=\"art-image-container\">\n          <img src={_art.imageUri}  alt={_art.id} onLoad={this.onImageLoad} />\n        </div>\n        <p className=\"font-color-dark\">{_art.name}</p>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IArt } from '../../models/IArt';\nimport { Chip, Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface IArtModalProps {\n  art: IArt;\n  closeAction: any;\n}\n\ninterface IArtModalState {\n  isImageLoaded: boolean;\n}\n\nconst IArtDetail = ({label, value}) => {\n  return (\n    <tr>\n      <td className=\"art-detail-col\">{label}: </td>\n      <td className=\"art-detail-col\">{value}</td>\n    </tr>\n  )\n}\n\nexport class ArtModal extends React.Component<IArtModalProps, IArtModalState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isImageLoaded: false\n    };\n\n    this.onImageLoaded = this.onImageLoaded.bind(this);\n  }\n\n  onImageLoaded() {\n    this.setState({\n      isImageLoaded: true\n    });\n  }\n\n  render() {\n    const _art: IArt = this.props.art;\n    return (\n      <div className=\"main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n        <div className=\"art-modal-image-container\">\n          <img src={_art.imageUri} alt={_art.id} onLoad={this.onImageLoaded} />\n        </div>\n        <div className=\"art-modal-title-container font-color-dark\">\n          <div className=\"art-modal-title\">{_art.name}</div>\n        </div>\n        <div className=\"art-modal-details-container padded-2y padded-2x\">\n          {_art.hasFake\n            ? <Chip className=\"app-chip-item background-green\" size=\"small\" label=\"has fake\" /> \n            : <Chip className=\"app-chip-item background-blue\" size=\"small\" label=\"always real\" />}\n\n          <table>\n            <tbody>\n              <IArtDetail label=\"Buy Price\" value={`${_art.buyPrice} Bells`} />\n              <IArtDetail label=\"Sell Price\" value={`${_art.sellPrice} Bells`} />\n              <IArtDetail label=\"Art Type\" value={`${_art.type}`} />\n            </tbody>\n          </table>\n        </div>\n        <div className=\"art-modal-museum-details-container padded-2y padded-2x\">\n          <h3>Blather's Note:</h3>\n          <p>\"{_art.museumDescription}\"</p>\n        </div>\n\n        <div className=\"padded-2y\">\n          <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n            <CloseIcon style={{marginRight: '5px'}}/> Close\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport { ArtManager } from '../../services/ArtManager';\nimport { Container, Modal } from '@material-ui/core';\nimport { PageTitle } from '../shared/page-title/PageTitle';\nimport { IArt } from '../../models/IArt';\nimport { ArtItem } from './ArtItem';\nimport { ArtModal } from './ArtModal';\nimport { LoadingState } from '../shared/loading-state/LoadingState';\n\nexport class Art extends ArtManager {\n  PAINTING = 'painting';\n  STATUE = 'statue';\n\n  /** if component is mounted */\n  private _isMounted: boolean;\n\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.state = {\n      data: {\n        allPaintings: [],\n        allStatues: [],\n        isModalOpen: false,\n        currentArt: null,\n        pageLoaded: false\n      }\n    }\n\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this._getAllArt().then((artItems: any) => {\n      this.renderArtItems(artItems);\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  /**\n   * opens the modal\n   * @param art \n   */\n  openModal(art: IArt) {\n    this._changeState('isModalOpen', true);\n    this._changeState('currentArt', art);\n  }\n\n  /**\n   * closes the modal\n   */\n  closeModal() {\n    this._changeState('isModalOpen', false);\n    this._changeState('currentArt', null);\n  }\n\n  /**\n   * checks if the art item is a painting\n   */\n  isPainting(name: string) {\n    return name.includes('painting');\n  }\n \n  /**\n   * setup the object list needed by the view\n   * @param artItems\n   */\n  renderArtItems(artItems: any) {\n    const _allPaintings: IArt[] = [];\n    const _allStatues: IArt[] = [];\n    artItems.forEach((art: any) => {\n      const _newArt: IArt = {\n        id: art['file-name'],\n        name: art['name']['name-USen'],\n        hasFake: art['hasFake'],\n        buyPrice: art['buy-price'],\n        sellPrice: art['sell-price'],\n        imageUri: art['image_uri'],\n        museumDescription: art['museum-desc'],\n        type: this.isPainting(art['file-name']) ? this.PAINTING : this.STATUE\n      }\n\n      if (_newArt.type === this.PAINTING) {\n        _allPaintings.push(_newArt);\n      } else {\n        _allStatues.push(_newArt);\n      }\n\n    });\n\n    if (this._isMounted) {\n      this._changeState('allPaintings', _allPaintings);\n      this._changeState('allStatues', _allStatues);\n      this._changeState('pageLoaded', true);\n    }\n  }\n\n  render() {\n    const _allPaintings: IArt[] = this.state.data.allPaintings;\n    const _allStatues: IArt[] = this.state.data.allStatues;\n\n    return(\n      <div className=\"background-main padded-6y item-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Art\" backLink=\"/\" backLinkDisplay=\"Home\" />\n          </div>\n          \n          <div className=\"padded-2y padded-4x item-container main-section \">\n            <h1 className=\"font-color-dark art-section-title\">Paintings</h1>\n            { this.state.data.pageLoaded\n              ? <div className=\"main--flex\">\n                  {_allPaintings &&\n                    _allPaintings.map((art: IArt) => {\n                      return (\n                        <div key={art.id} onClick={() => this.openModal(art)}>\n                          <ArtItem art={art}/>\n                        </div>\n                      )\n                    })\n                  }\n                </div>\n              : <LoadingState />\n            }\n          </div>\n\n          <div className=\"padded-2y padded-4x item-container main-section \">\n            <h1 className=\"font-color-dark art-section-title\">Statues</h1>\n            { this.state.data.pageLoaded\n              ? <div className=\"main--flex\">\n                {_allStatues &&\n                  _allStatues.map((art: IArt) => {\n                    return (\n                      <div key={art.id} onClick={() => this.openModal(art)}>\n                        <ArtItem art={art}/>\n                      </div>\n                    )\n                  })\n                }\n              </div>\n              : <LoadingState />\n            }\n          </div>\n        </Container>\n\n\n        <Modal open={this.state.data.isModalOpen} onClose={this.closeModal}>\n          <div className=\"main-modal-wrapper\">\n            <ArtModal art={this.state.data.currentArt} closeAction={this.closeModal} />\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}","import { Base } from \"../utils/base/Base\";\nimport { IFossil } from \"../models/IFossils\";\n\nexport class FossilsManager extends Base {\n  _getAllFossils() {\n    return this._get('/fossils');\n  }\n\n  /**\n   * setup the object list needed by the view\n   * @param fossils\n   */\n  _renderFossils(fossils: any): IFossil[] {\n    const _allFossils: IFossil[] = [];\n    fossils.forEach((fossil: any) => {\n      const _newFossil: IFossil = {\n        id: fossil['file-name'],\n        name: fossil['name']['name-USen'],\n        price: fossil['price'],\n        museumDescription: fossil['museum-phrase'],\n        imageUri: fossil['image_uri']\n      };\n\n      _allFossils.push(_newFossil);\n    })\n    return _allFossils;\n  }\n}","import React from 'react';\n\nimport { IFossil } from '../../models/IFossils';\n\n\ninterface IFossilItemProps {\n  fossil: IFossil;\n}\n\ninterface IFossilItemState {\n  imageLoaded: boolean;\n  showState: string;\n}\n\nexport class FossilItem extends React.Component<IFossilItemProps, IFossilItemState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageLoaded: false,\n      showState: 'hide'\n    }\n\n    this.onImageLoaded = this.onImageLoaded.bind(this);\n    this.onHover = this.onHover.bind(this);\n    this.onLeave = this.onLeave.bind(this);\n  }\n\n  _changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  }\n\n  onImageLoaded() {\n    this._changeState('imageLoaded', true);\n  }\n\n  onHover() {\n    this._changeState('showState', 'show');\n  }\n\n  onLeave() {\n    this._changeState('showState', 'hide');\n  }\n\n  render() {\n    const _fossil: IFossil = this.props.fossil;\n    const _imageLoaded: boolean = this.state.imageLoaded;\n\n    return (\n      <div className=\"fossil-item-container font-color-dark\">\n        <div className=\"fossil-item-image\">\n          <div className=\"holder-image\">\n            <img src=\"/assets/fossil/fossil-holder.png\" alt=\"holder\" />\n          </div>\n          <div className=\"fossil-item-image-container\">\n            <img src={_fossil.imageUri} onLoad={this.onImageLoaded} alt={_fossil.name} onError={this.onImageLoaded}/>\n          </div>\n        </div>\n        <p>{_fossil.name}</p>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nimport { IFossil } from '../../models/IFossils';\nimport { Button } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface IFossilsModalProps {\n  fossil: IFossil;\n  closeAction: any;\n}\n\ninterface IFossilsModalState {\n  imageLoaded: boolean;\n}\n\nexport class FossilsModal extends React.Component<IFossilsModalProps, IFossilsModalState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      imageLoaded: false\n    }\n\n    this.onImageLoaded = this.onImageLoaded.bind(this);\n  }\n\n  onImageLoaded() {\n    this.setState({\n      imageLoaded: true\n    });\n  }\n\n  render() {\n    const _fossil: IFossil = this.props.fossil;\n    return (\n      <div className=\"main-modal-container padded-4y padded-2x font-color-dark\">\n        <div className=\"main-details-close-button\" onClick={this.props.closeAction}>\n          <CloseIcon/>\n        </div>\n        <div className=\"fossils-modal-image-container\">\n          <img src={_fossil.imageUri} alt={_fossil.id} onLoad={this.onImageLoaded} />\n        </div>\n        <p className=\"fossils-modal-name\">{_fossil.name}</p>\n        <div className=\"fossils-modal-details-container padded-2y padded-2x\">\n          <table>\n            <tbody>\n              <tr>\n                <td>Sell Price: </td>\n                <td>{_fossil.price} Bells</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div className=\"fossils-modal-museum-details-container padded-2y padded-2x\">\n          <h3>Blather's Note:</h3>\n          <p>\"{_fossil.museumDescription}\"</p>\n        </div>\n\n        <div className=\"padded-2y\">\n          <Button className=\"main-button\" variant=\"contained\" disableElevation onClick={this.props.closeAction}>\n            <CloseIcon style={{marginRight: '5px'}}/> Close\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport { FossilsManager } from '../../services/FossilsManager';\nimport { Container, Modal } from '@material-ui/core';\nimport { PageTitle } from '../shared/page-title/PageTitle';\nimport { IFossil } from '../../models/IFossils';\nimport { LoadingState } from '../shared/loading-state/LoadingState';\nimport { FossilItem } from './FossilItem';\nimport { FossilsModal } from './FossilsModal';\n\nexport class Fossils extends FossilsManager {\n  /** if component is mounted */\n  private _isMounted: boolean;\n\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n    this.state = {\n      data: {\n        allFossils: [],\n        pageLoaded: false,\n        currentFossil: null\n      }\n    }\n\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    console.log(\"getting\");\n\n    this._getAllFossils().then((fossils: any) => {\n      console.log(fossils);\n      const _allFossils: IFossil[] = this._renderFossils(fossils);\n      \n      if (this._isMounted) {\n        this._changeState('allFossils', _allFossils);\n        this._changeState('pageLoaded', true);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  \n\n  /**\n   * opens the modal\n   * @param art \n   */\n  openModal(fossil: IFossil) {\n    this._changeState('isModalOpen', true);\n    this._changeState('currentFossil', fossil);\n  }\n\n  /**\n   * closes the modal\n   */\n  closeModal() {\n    this._changeState('isModalOpen', false);\n    this._changeState('currentFossil', null);\n  }\n\n  render() {\n    const _allFossils: IFossil[] = this.state.data.allFossils;\n    const _pageLoaded: boolean = this.state.data.pageLoaded;\n\n    return(\n      <div className=\"background-main padded-6y item-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Fossils\" backLink=\"/\" backLinkDisplay=\"Home\" />\n          </div>\n          \n          <div className=\"padded-2y padded-4x main--section\">\n            {_pageLoaded \n              ? <div className=\"main--flex\">\n                {_allFossils.map((fossil: IFossil) => \n                  <div key={fossil.id} onClick={() => this.openModal(fossil)}>\n                    <FossilItem key={fossil.id} fossil={fossil}/>\n                  </div>\n                )}\n              </div>\n\n              : <LoadingState />\n            }\n          </div>\n        </Container>\n        <Modal open={this.state.data.isModalOpen} onClose={this.closeModal}>\n          <div className=\"main-modal-wrapper\">\n            <FossilsModal fossil={this.state.data.currentFossil} closeAction={this.closeModal} />\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { Base } from '../utils/base/Base';\nimport { IHourlyMusic, IWeatherMusic } from '../models/IHourlyMusic';\n\nexport class HourlyMusicManager extends Base {\n  _getAllMusic() {\n    return this._get('/backgroundmusic');\n  }\n\n  _renderItems(musicData: any): IHourlyMusic[] {\n    // hold all hourly music data\n    const _allHourlyMusic: IHourlyMusic[] = [];\n\n    musicData.forEach((music: any) => {\n      const _id = `hour-${music['hour']}`;\n      const _existingHour = (_allHourlyMusic.find((m: IHourlyMusic) => m.id === _id));\n      \n      const _newVariation: IWeatherMusic = {\n        musicUri: music['music_uri'],\n        weather: music['weather']\n      };\n      \n      if (!_existingHour) {\n        // create new hour\n        const _newHourlyMusic: IHourlyMusic = {\n          id: _id,\n          hour: music['hour'],\n          variations: [_newVariation]\n        }\n\n        _allHourlyMusic.push(_newHourlyMusic);\n      } else {\n        // add variation to hour\n        _existingHour.variations.push(_newVariation);\n      }\n    });\n\n    return _allHourlyMusic;\n  }\n}","import React from 'react';\n\nimport { HourlyMusicManager } from '../../services/HourlyMusicManager';\nimport { IHourlyMusic, IWeatherMusic } from '../../models/IHourlyMusic';\nimport { Container, Grid, Button } from '@material-ui/core';\nimport { PageTitle } from '../shared/page-title/PageTitle';\n\nimport QueryBuilderIcon from '@material-ui/icons/QueryBuilder';\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport AcUnitIcon from '@material-ui/icons/AcUnit';\n\nexport class HourlyMusic extends HourlyMusicManager {\n  /** is mounted */\n  _isMounted: boolean;\n\n  /** audio ref */\n  audioRef: React.RefObject<any>;\n\n  /** constants */\n  HOURS = [1,2,3,4,5,6,7,8,9,10,11,12];\n  AM = 'AM';\n  PM = 'PM';\n  SUNNY = 'Sunny';\n  RAINY = 'Rainy';\n  SNOWY = 'Snowy';\n\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        allHourlyMusic: [],\n        allWeatherOptions: [],\n        circleOpen: false,\n        styles: [],\n        hourSelected: null,\n        meridiemSelected: this.AM,\n        weatherSelected: null,\n        selectedMusicUri: null\n      }\n    }\n\n    this.audioRef = React.createRef();\n    this._isMounted = false;\n\n    this.onHourSelected = this.onHourSelected.bind(this);\n    this.onMeridiemSelected = this.onMeridiemSelected.bind(this);\n    this.getButtonIcon = this.getButtonIcon.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this._getAllMusic().then((music: any) => {\n      const _allHourlyMusic: IHourlyMusic[] = this._renderItems(music);\n\n      if (this._isMounted) {\n        this._changeState('allHourlyMusic', _allHourlyMusic);\n        this.onTimeChanged();\n        this.onSelectionChange();\n      }\n\n    });\n\n    this.setHoursStyle();\n    this.setCurrentDefaultHour();\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n\n  /**\n   * sets the Hours selection style\n   */\n  setHoursStyle() {\n    const _allStyles: any[] = [];\n    const _numHours = this.HOURS.length;\n\n    this.HOURS.forEach(hour => {\n      const _newStyle = {\n        top: (50 + 35*Math.sin(-0.5 * Math.PI - 2*(1/_numHours)*hour*Math.PI)).toFixed(4) + \"%\",\n        left: (50 - 35*Math.cos(-0.5 * Math.PI - 2*(1/_numHours)*hour*Math.PI)).toFixed(4) + \"%\"\n      }\n      _allStyles.push(_newStyle);\n    });\n\n    if (this._isMounted) {\n      this._changeState('styles', _allStyles);\n    }\n  }\n\n  /**\n   * sets the default hour from the current time\n   */\n  setCurrentDefaultHour() {\n    const _now = new Date();\n    const _hour = _now.getHours() > 12 ? _now.getHours() - 12 : (_now.getHours() > 0 ? _now.getHours() : 12);\n    const _meridiem = _now.getHours() >= 12 ? this.PM : this.AM;\n    this._changeState('hourSelected', _hour);\n    this._changeState('meridiemSelected', _meridiem);\n    this.onTimeChanged();\n  }\n\n\n  /**\n   * sets the selected hour\n   * @param hour\n   */\n  onHourSelected(hour: number) {\n    this._changeState('hourSelected', hour);\n    this.onTimeChanged();\n    this.onSelectionChange();\n  } \n\n  /**\n   * handles meridiem (AM/PM) button selection\n   * @param selection \n   */\n  onMeridiemSelected(selection: string) {\n    this._changeState('meridiemSelected', selection);\n    this.onTimeChanged();\n    this.onSelectionChange();\n  }\n\n  /**\n   * handles the weather button selection\n   * @param weather \n   */\n  onWeatherSelected(weather: string) {\n    this._changeState('weatherSelected', weather);\n    this.onSelectionChange();\n  }\n\n  \n  /**\n   * if time/hour has been changed\n   */\n  onTimeChanged(): void {\n    const _hourSelected: number = this.state.data.hourSelected;\n    const _meridiemSelected: string = this.state.data.meridiemSelected;\n    const _allHourlyMusic: IHourlyMusic[] = this.state.data.allHourlyMusic;\n\n    if (!_allHourlyMusic.length) {\n      return;\n    }\n\n    if (_hourSelected != null && _meridiemSelected != null) {\n      const _currentTime: number = this.decodeTime(_hourSelected, _meridiemSelected);\n      const _currentHourlyMusic: IHourlyMusic|undefined = _allHourlyMusic.find((h: IHourlyMusic) => h.hour === _currentTime);\n\n      if (_currentHourlyMusic) {\n        const _weatherSelections: string[] = _currentHourlyMusic.variations.map((v: IWeatherMusic) => v.weather);\n        this._changeState('allWeatherOptions', _weatherSelections);\n        if (_weatherSelections.includes(this.SUNNY)) {\n          this._changeState('weatherSelected', this.SUNNY);\n        } else {\n          this._changeState('weatherSelected', _weatherSelections[0]);\n        }\n      } else {\n        console.error('cannot get weather options');\n      }\n    }\n\n    this.onSelectionChange();\n  }\n\n  /**\n   * after time/meridiem/weather selection has been changed, check if there's a music that matches\n   */\n  onSelectionChange(): void {\n    const _hourSelected: number = this.state.data.hourSelected;\n    const _meridiemSelected: string = this.state.data.meridiemSelected;\n    const _weatherSelected: string = this.state.data.weatherSelected;\n    const _allHourlyMusic: IHourlyMusic[] = this.state.data.allHourlyMusic;\n \n    if (!_allHourlyMusic.length) {\n      return;\n    }\n\n    if (_hourSelected != null && _meridiemSelected != null && _weatherSelected != null) {\n\n      const _currentTime = this.decodeTime(_hourSelected, _meridiemSelected);\n      const _currentHourlyMusic: IHourlyMusic|undefined = _allHourlyMusic.find((h: IHourlyMusic) => h.hour === _currentTime);\n\n      if (_currentHourlyMusic) {\n        const _currentWeatherMusicSelections: IWeatherMusic[] = _currentHourlyMusic.variations;\n        const _currentBackgroundMusic: IWeatherMusic|undefined = _currentWeatherMusicSelections.find((w: IWeatherMusic) => w.weather === _weatherSelected);\n\n        if (_currentBackgroundMusic) {\n          this.changeSongSelection(_currentBackgroundMusic.musicUri);\n        } else {\n          console.error('cannot get background music');\n        }\n      }\n    }\n  }\n\n  /**\n   * gets the button icon according to the weather\n   * @param weather \n   */\n  getButtonIcon(weather: string) {\n    switch (weather) {\n      case this.SUNNY:\n        return <WbSunnyIcon />\n      case this.SNOWY:\n        return <AcUnitIcon />\n      case this.RAINY:\n        return <CloudIcon />\n    }\n  }\n\n  /**\n   * update the music uri on the audio element\n   * @param musicUri\n   */\n  changeSongSelection(musicUri: string) {\n    if (this.audioRef.current) {\n      this.audioRef.current.pause();\n    }\n\n    this._changeState('selectedMusicUri', musicUri);\n\n    if (this.audioRef.current) {\n      this.audioRef.current.load();\n      this.audioRef.current.play();\n    }\n  }\n\n  /**\n   * converts time to 24-hour value\n   * @param hour\n   * @param meridiem \n   */\n  decodeTime(hour: number, meridiem: string): number {\n    if (meridiem === this.PM) {\n      if (hour === 12) {\n        return hour;\n      } else {\n        return hour + 12;\n      }\n    } else {\n      if (hour === 12) {\n        return 0;\n      } else {\n        return hour;\n      }\n    }\n  }\n\n  render() {\n    const _selectedMusicUri: string = this.state.data.selectedMusicUri;\n    const _allStyles: any[] = this.state.data.styles;\n    const _hourSelected: number = this.state.data.hourSelected;\n    const _meridiemSelected: string = this.state.data.meridiemSelected;\n    const _weatherSelections: string[] = this.state.data.allWeatherOptions;\n    const _weatherSelected: string = this.state.data.weatherSelected;\n\n    return (\n      <div className=\"background-main padded-6y item-wrapper\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Hourly Background Music\" backLink=\"/\" backLinkDisplay=\"Home\" />\n          </div>\n\n          <div className=\"padded-2y padded-4x main--section\">\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <div className=\"hm-time-selection\">\n                  <h3 className=\"font-color-dark\">Time:</h3>\n                  <div className=\"hm-clock-selector\">\n                    <div className=\"hm-circle hm-open\">\n                      <div className=\"hm-ring\">\n                        { _allStyles && _allStyles.map((hour: any, i: number) => \n                            <a key={i} className=\"hm-menu-item\" onClick={() => this.onHourSelected(i+1)} style={{top: hour.top, left: hour.left}}>\n                              <span className={(i+1) == _hourSelected ? 'hm-hour-selected' : ''}>{i+1}</span>\n                            </a>\n                          )\n                        }\n                      </div>\n                      <a className=\"hm-center\">\n                        <QueryBuilderIcon fontSize=\"large\" />\n                      </a>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"hm-meridiem-selection padded-2y\">\n                <Button variant=\"contained\" disableElevation \n                  onClick={() => this.onMeridiemSelected(this.AM)}\n                  className={_meridiemSelected === this.AM ? 'hm-meridiem-selected hm-meridiem-button' : 'hm-meridiem-button'}>AM</Button>\n                <Button variant=\"contained\" disableElevation \n                  onClick={() => this.onMeridiemSelected(this.PM)}\n                  className={_meridiemSelected === this.PM ? 'hm-meridiem-selected hm-meridiem-button' : 'hm-meridiem-button'}>PM</Button>\n                </div>\n              </Grid>\n\n\n              <Grid item xs={12} md={6}>\n                <div className=\"hm-time-selection\">\n                  <h3 className=\"font-color-dark\">Weather:</h3>\n                  \n                  {_weatherSelections.map((weather: string) => \n                    <div className=\"hm-weather-button-wrapper\" key={weather}>\n                      <Button variant=\"contained\" disableElevation startIcon={this.getButtonIcon(weather)}\n                        onClick={() => this.onWeatherSelected(weather)}\n                        className={_weatherSelected === weather ? 'hm-weather-selected' : ''}>\n                        {weather}\n                      </Button> \n                    </div>\n                  )}\n\n                  <div className=\"padded-2y\">\n                    {_selectedMusicUri && \n                      <div>\n                        <h3 className=\"font-color-dark\">Selected Music:</h3>\n                        <audio ref={this.audioRef} controls autoPlay>\n                          <source src={_selectedMusicUri} type=\"audio/mpeg\" />\n                        </audio>\n                      </div>\n                    }\n                  </div>\n                </div>\n              </Grid>\n            </Grid>\n          </div>\n        </Container>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { ICreature } from '../../../models/ICreature';\nimport { NORTHERN, SOUTHERN } from './CreaturesAvailabilityCalendar';\nimport { TableRow, TableCell, Modal } from '@material-ui/core';\nimport { CreatureDetails } from '../CreatureDetails';\n\ninterface ICreatureRowPops {\n  creature: ICreature;\n  area: string;\n}\n\ninterface ICreatureRowState {\n  isOpenModal: boolean;\n}\n\nconst YearlyCreatureCol = ({isAvailable, iconUri, name}) => {\n  return (\n    <TableCell className={isAvailable ? 'background-green yearly-view-col' : 'ac-empty-background yearly-view-col'}>\n      {isAvailable && <img src={iconUri} alt={name}/> }\n    </TableCell>\n  )\n}\n\nexport class YearlyCreatureRow extends React.Component<ICreatureRowPops, ICreatureRowState>{\n  _NORTHERN = NORTHERN;\n  _SOUTHERN = SOUTHERN;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpenModal: false\n    }\n\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n\n  openModal() {\n    this.changeState('isOpenModal', true);\n  }\n\n  closeModal() {\n    this.changeState('isOpenModal', false);\n  }\n\n  changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  }\n\n  render() {\n    const _area: string = this.props.area === this._NORTHERN ? 'monthsAvailable_northern_int' : 'monthsAvailable_southern_int';\n    const _creature: ICreature = this.props.creature;\n    const _creatureAvailability = _creature[_area];\n\n    return (\n        <TableRow hover tabIndex={-1}>\n          <TableCell>\n            <div className=\"ac-creature-name\" onClick={this.openModal}>{_creature.name}</div>\n            <Modal open={this.state.isOpenModal} onClose={this.closeModal}>\n              <div className=\"main-modal-wrapper\">\n                {this.state.isOpenModal}\n                <CreatureDetails creature={_creature} closeAction={this.closeModal}/>\n              </div>\n            </Modal>\n          </TableCell>\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(1)} iconUri={_creature.iconUri} name={_creature.id}></YearlyCreatureCol> }\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(2)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(3)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(4)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(5)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(6)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(7)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(8)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(9)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(10)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(11)} iconUri={_creature.iconUri} name={_creature.id} />}\n          {<YearlyCreatureCol isAvailable={_creatureAvailability.includes(12)} iconUri={_creature.iconUri} name={_creature.id} />}\n        </TableRow>\n    );\n  }\n}","import React from 'react';\nimport { ICreature } from '../../../models/ICreature';\nimport { YearlyCreatureRow } from './YearlyCreatureRow';\nimport { TableHead, TableCell, TableRow, TableBody, TableContainer, Table, Modal } from '@material-ui/core';\nimport { CreatureDetails } from '../CreatureDetails';\n\ninterface IYearlyViewProps {\n  selectedCreatureType: string;\n  selectedArea: string;\n  creaturesList: ICreature[];\n}\n\ninterface IYearlyViewState {\n}\n\nexport class YearlyView extends React.Component<IYearlyViewProps, IYearlyViewState> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const _selectedCreaturesList: ICreature[] = this.props.creaturesList;\n    const _selectedCreatureType: string = this.props.selectedCreatureType;\n    const _selectedArea: string = this.props.selectedArea;\n\n    return (\n      <div>\n        <TableContainer className=\"ac-table-container\">\n          <Table stickyHeader aria-label=\"sticky table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>{_selectedCreatureType}</TableCell>\n                <TableCell>Jan</TableCell>\n                <TableCell>Feb</TableCell>\n                <TableCell>Mar</TableCell>\n                <TableCell>Apr</TableCell>\n                <TableCell>May</TableCell>\n                <TableCell>Jun</TableCell>\n                <TableCell>Jul</TableCell>\n                <TableCell>Aug</TableCell>\n                <TableCell>Sep</TableCell>\n                <TableCell>Oct</TableCell>\n                <TableCell>Nov</TableCell>\n                <TableCell>Dec</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              { _selectedCreaturesList && \n                _selectedCreaturesList.map((c: ICreature) => <YearlyCreatureRow key={c.id} creature={c} area={_selectedArea}/>)\n              }\n            </TableBody>\n          </Table>\n        </TableContainer>\n\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { ICreature } from '../../../models/ICreature';\nimport { NORTHERN, SOUTHERN } from './CreaturesAvailabilityCalendar';\nimport { TableRow, TableCell, Modal } from '@material-ui/core';\nimport { CreatureDetails } from '../CreatureDetails';\n\ninterface ICreatureRowPops {\n  creature: ICreature;\n  area: string;\n}\n\ninterface ICreatureRowState {\n  hours: number[];\n  isOpenModal: boolean;\n}\n\nconst MonthlyCreatureCol = ({isAvailable, iconUri, name}) => {\n  return (\n    <TableCell className={isAvailable ? 'background-green monthly-view-col' : 'ac-empty-background monthly-view-col'}>\n      {isAvailable && <img src={iconUri} alt={name}/> }\n    </TableCell>\n  )\n}\n\nexport class MonthlyCreatureRow extends React.Component<ICreatureRowPops, ICreatureRowState>{\n  _NORTHERN = NORTHERN;\n  _SOUTHERN = SOUTHERN;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hours: [],\n      isOpenModal: false\n    }\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  componentDidMount() {\n    this.initializeHours();\n  }\n\n  openModal() {\n    console.log('open');\n    this.changeState('isOpenModal', true);\n  }\n\n  closeModal() {\n    this.changeState('isOpenModal', false);\n  }\n\n  changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  }\n\n  initializeHours() {\n    const _hours: number[] = [];\n    for (var i=0; i<24; i++) {\n      _hours.push(i);\n    }\n    this.changeState('hours', _hours);\n  }\n\n  render() {\n    const _creature: ICreature = this.props.creature;\n    const _creatureAvailability = _creature.timeAvailable;\n    const _hours: number[] = this.state.hours;\n\n    return (\n      <TableRow hover tabIndex={-1}>\n        <TableCell className=\"ac-creature-name\">\n          <div className=\"ac-creature-name\" onClick={this.openModal}>{_creature.name}</div>\n          <Modal open={this.state.isOpenModal} onClose={this.closeModal}>\n            <div className=\"main-modal-wrapper\">\n              {this.state.isOpenModal}\n              <CreatureDetails creature={_creature} closeAction={this.closeModal}/>\n            </div>\n          </Modal>\n        </TableCell>\n        {_hours && \n          _hours.map((h:number) => <MonthlyCreatureCol key={h} isAvailable={_creatureAvailability.includes(h)} iconUri={_creature.iconUri} name={_creature.id} />)\n        }\n      </TableRow>\n    );\n  }\n}","import React from 'react';\n\nimport { ICreature } from '../../../models/ICreature';\nimport { MonthlyCreatureRow } from './MonthlyCreatureRow';\nimport { TableContainer, Table, TableHead, TableRow, TableCell, TableBody } from '@material-ui/core';\nimport { NORTHERN, SOUTHERN } from './CreaturesAvailabilityCalendar';\n\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\n\ninterface IMonthlyViewProps {\n  selectedCreatureType: string;\n  selectedArea: string;\n  creaturesList: ICreature[];\n}\n\ninterface IMonthlyViewState {\n  hours: number[];\n  selectedMonth: number;\n}\n\nexport class MonthlyView extends React.Component<IMonthlyViewProps, IMonthlyViewState> {\n  _NORTHERN = NORTHERN;\n  _SOUTHERN = SOUTHERN;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hours: [],\n      selectedMonth: 1\n    }\n\n    this.onNextClick = this.onNextClick.bind(this);\n    this.onPrevClick = this.onPrevClick.bind(this);\n    this.getMonthFromId = this.getMonthFromId.bind(this);\n  }\n\n  componentDidMount() {\n    this.initializeHours();\n  }\n\n  changeState(key: string, value: any) {\n    let currentState = this.state;\n    currentState[key] = value;\n    this.setState(currentState);\n  }\n\n  initializeHours() {\n    const _hours: number[] = [];\n    for (var i=0; i<24; i++) {\n      _hours.push(i);\n    }\n    this.changeState('hours', _hours);\n  }\n\n  onNextClick() {\n    const curr = this.state.selectedMonth;\n    this.changeState('selectedMonth', curr + 1);\n  }\n\n  onPrevClick() {\n    const curr = this.state.selectedMonth;\n    this.changeState('selectedMonth', curr - 1);\n  }\n\n  getMonthFromId(id: number) {\n    switch(id) {\n      case 1:\n        return 'January';\n      case 2:\n        return 'February';\n      case 3:\n        return 'March';\n      case 4:\n        return 'April';\n      case 5:\n        return 'May';\n      case 6:\n        return 'June';\n      case 7:\n        return 'July';\n      case 8:\n        return 'August';\n      case 9:\n        return 'September';\n      case 10:\n        return 'October';\n      case 11:\n        return 'November';\n      case 12:\n        return 'December';\n    }\n  }\n\n  render() {\n    const _selectedCreaturesList: ICreature[] = this.props.creaturesList;\n    const _selectedCreatureType: string = this.props.selectedCreatureType;\n    const _selectedArea: string = this.props.selectedArea;\n    const _selectedMonth: number = this.state.selectedMonth;\n    const _hours: number[] = this.state.hours;\n    const _areaId: string = this.props.selectedArea === this._NORTHERN ? 'monthsAvailable_northern_int' : 'monthsAvailable_southern_int';\n    \n    return (\n      <div>\n        <div className=\"ac-month-selection-wrapper padded-2y main--flex\">\n          {_selectedMonth > 1 && \n            <div className=\"ac-month-left\" onClick={this.onPrevClick}>\n              <KeyboardArrowLeftIcon />\n            </div>\n          }\n          \n          <div className=\"ac-month-name\">{this.getMonthFromId(_selectedMonth)}</div>\n          \n          {_selectedMonth < 12 && \n            <div className=\"ac-month-right\" onClick={this.onNextClick}>\n              <KeyboardArrowRightIcon />\n            </div>\n          }\n        </div>\n\n        <TableContainer className=\"ac-table-container\">\n          <Table stickyHeader aria-label=\"sticky table\">\n            <TableHead>\n              <TableRow>\n                <TableCell className=\"ac-creature-name\">{_selectedCreatureType}</TableCell>\n                {_hours.map((h: number) => (\n                  <TableCell\n                    key={h}>\n                    {h}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              { _selectedCreaturesList && \n                _selectedCreaturesList.map((c: ICreature) => {\n                  return c[_areaId].includes(_selectedMonth) \n                    ? <MonthlyCreatureRow key={c.id} creature={c} area={_selectedArea} />\n                    : null\n                })\n              }\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n      \n    )\n  }\n}","import React from 'react';\n\nimport { CreaturesManager } from '../../../services/CreaturesManager';\nimport { Container, Select, MenuItem, Grid, InputLabel, Button } from '@material-ui/core';\nimport { PageTitle } from '../../shared/page-title/PageTitle';\nimport { ICreature } from '../../../models/ICreature';\nimport { YearlyView } from './YearlyView';\nimport { MonthlyView } from './MonthlyView';\n\n\nexport const BUGS = 'Bugs';\nexport const FISHES = 'Fishes';\nexport const NORTHERN = 'Northern Hemisphere';\nexport const SOUTHERN = 'Southern Hemisphere';\nexport const YEARLY = 'Yearly View';\nexport const MONTHLY = 'Monthly View';\n\nexport class CreaturesAvailabilityCalendar extends CreaturesManager {\n  /** if component is mounted */\n  _isMounted: boolean;\n\n  _BUGS = BUGS;\n  _FISHES = FISHES;\n  _NORTHERN = NORTHERN;\n  _SOUTHERN = SOUTHERN;\n  _YEARLY = YEARLY;\n  _MONTHLY = MONTHLY;\n\n  _AREA_OPTIONS = [NORTHERN, SOUTHERN];\n  _CREATURE_TYPE_OPTIONS = [BUGS, FISHES];\n  _CALENDAR_TYPE_OPTIONS = [YEARLY, MONTHLY];\n\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n    this.state = {\n      data: {\n        activeTab: 0,\n        allFishes: [],\n        allBugs: [],\n        selectedCreature: this._BUGS,\n        selectedArea: this._NORTHERN,\n        selectedCalendarType: this._YEARLY,\n        selectedCreaturesList: []\n      }\n    };\n\n    this.onCreatureTypeSelected = this.onCreatureTypeSelected.bind(this);\n    this.onAreaSelected = this.onAreaSelected.bind(this);\n    this.onCalendarTypeSelected = this.onCalendarTypeSelected.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this._getAllFishes().then((fishes: any) => {\n      const _allFishes: ICreature[] = this._renderCreature(fishes, 'fish');\n      if (this._isMounted) {\n        this._changeState('allFishes', _allFishes);\n        if (this.state.data.selectedCreature === this._FISHES) {\n          this._changeState('selectedCreaturesList', _allFishes);\n        }\n      }\n    });\n\n    this._getAllBugs().then((bugs: any) => {\n      const _allBugs: ICreature[] = this._renderCreature(bugs, 'bug');\n      if (this._isMounted) {\n        this._changeState('allBugs', _allBugs);\n        if (this.state.data.selectedCreature === this._BUGS) {\n          this._changeState('selectedCreaturesList', _allBugs);\n        }\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  /**\n   * handles creature selection\n   * @param creatureType\n   */\n  onCreatureTypeSelected(creatureType: string) {\n    console.log('change', creatureType);\n    this._changeState('selectedCreature', creatureType);\n\n    switch (creatureType) {\n      case this._BUGS:\n        this._changeState('selectedCreaturesList', [...this.state.data.allBugs]);\n        break;;\n      case this._FISHES:\n        this._changeState('selectedCreaturesList', [...this.state.data.allFishes]);\n        break;\n    }\n  }\n\n  /**\n   * handles area selection\n   * @param area\n   */\n  onAreaSelected(area: string) {\n    this._changeState('selectedArea', area);\n  }\n\n  /**\n   * handles calendar type selection\n   * @param calendarType \n   */\n  onCalendarTypeSelected(calendarType: string) {\n    this._changeState('selectedCalendarType', calendarType);\n  }\n\n\n  render() {\n    const _selectedCreature: string = this.state.data.selectedCreature;\n    const _selectedArea: string = this.state.data.selectedArea;\n    const _selectedCalendarType: string = this.state.data.selectedCalendarType;\n\n    const _selectedCreaturesList: ICreature[] = this.state.data.selectedCreaturesList;\n\n    return (\n      <div className=\"background-main padded-6y\">\n        <Container>\n          <div className=\"main-title-container\">\n            <PageTitle pageTitle=\"Creatures - Availability Calendar\" backLink=\"/creatures\" backLinkDisplay=\"Creatures\" />\n          </div>\n\n          <div className=\"padded-2y creatures-container main-section\">\n            <div className=\"ac-selections padded-2x\">\n              <Grid container spacing={2}>\n\n                <Grid item xs={12} md={4}>\n                  <div className=\"padded-2y ac-selections-button-wrapper\">\n\n                    {this._CREATURE_TYPE_OPTIONS &&\n                      this._CREATURE_TYPE_OPTIONS.map((creatureType: string) => \n                        <div className=\"ac-selections-button\" key={creatureType}>\n                          <Button variant=\"contained\" disableElevation \n                            onClick={() => this.onCreatureTypeSelected(creatureType)}\n                            className={_selectedCreature === creatureType ? 'background-blue' : ''}>\n                            <span>{creatureType}</span>\n                          </Button>\n                        </div>\n                      )\n                    }\n\n                  </div>\n                </Grid>\n\n                <Grid item xs={12} md={4}>\n                  <div className=\"padded-2y ac-selections-button-wrapper\">\n                    { this._AREA_OPTIONS &&\n                      this._AREA_OPTIONS.map((area: string) => \n                        <div className=\"ac-selections-button\" key={area}>\n                          <Button variant=\"contained\" disableElevation \n                            onClick={() => this.onAreaSelected(area)}\n                            className={_selectedArea === area ? 'background-blue' : ''}>\n                            <span>{area}</span>\n                          </Button>\n                        </div>\n                      )\n                    }\n                  </div>\n                </Grid>\n\n                <Grid item xs={12} md={4}>\n                  <div className=\"padded-2y ac-selections-button-wrapper\">\n                    { this._CALENDAR_TYPE_OPTIONS &&\n                      this._CALENDAR_TYPE_OPTIONS.map((calendarType: string) => \n                        <div className=\"ac-selections-button\" key={calendarType}>\n                          <Button variant=\"contained\" disableElevation \n                            onClick={() => this.onCalendarTypeSelected(calendarType)}\n                            className={_selectedCalendarType === calendarType ? 'background-blue' : ''}>\n                            <span>{calendarType}</span>\n                          </Button>\n                        </div>\n                      )\n                    }\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n\n            <div className=\"padded-4y padded-2x ac-calendar-view\">\n              { _selectedCalendarType === this._YEARLY \n                ? <YearlyView \n                    selectedArea={_selectedArea} \n                    selectedCreatureType={_selectedCreature} \n                    creaturesList={_selectedCreaturesList} \n                  />\n                : <MonthlyView \n                    selectedArea={_selectedArea} \n                    selectedCreatureType={_selectedCreature} \n                    creaturesList={_selectedCreaturesList}\n                  />\n              }\n              \n            </div>\n          </div>\n        </Container>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport './App.css';\n\nimport { Homepage } from './components/homepage/Homepage';\n\nimport { HashRouter, Route } from 'react-router-dom';\nimport { Villagers } from './components/villagers/Villagers';\nimport { Music } from './components/music/Music';\nimport { Creatures } from './components/creatures/Creatures';\nimport { Diy } from './components/items/diy/Diy';\nimport { Shopping } from './components/items/shopping/Shopping';\nimport { FreebiesPage } from './components/items/freebies/FreebiesPage';\nimport { FreebiesAll } from './components/items/freebies/FreebiesAll';\nimport { Art } from './components/art/Art';\nimport { Fossils } from './components/fossils/Fossils';\nimport { HourlyMusic } from './components/hourly-music/HourlyMusic';\nimport { CreaturesAvailabilityCalendar } from './components/creatures/availability-calendar/CreaturesAvailabilityCalendar';\n\nimport './css/Homepage.css';\nimport './css/Villagers.css';\nimport './css/Music.css';\nimport './css/Creature.css';\nimport './css/CreaturesAvailabilityCalendar.css';\nimport './css/Item.css';\nimport './css/Freebies.css';\nimport './css/Art.css';\nimport './css/Fossils.css';\nimport './css/HourlyMusic.css';\n\nfunction App() {\n  return (\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <div>\n        <Route exact path=\"/\" component={Homepage} />\n        <Route path=\"/music\" component={Music} />\n        <Route path=\"/villagers\" component={Villagers} />\n        <Route path=\"/creatures\" component={Creatures} />\n        <Route path=\"/creature/availability-calendar\" component={CreaturesAvailabilityCalendar} />\n        <Route path=\"/diy\" component={Diy} />\n        <Route path=\"/shopping\" component={Shopping} />\n        <Route path=\"/freebies/:freebie_id\" component={FreebiesPage} />\n        <Route path=\"/freebies-redeemable\" component={FreebiesAll} />\n        <Route path=\"/art\" component={Art} />\n        <Route path=\"/fossils\" component={Fossils} />\n        <Route path=\"/hourly-music\" component={HourlyMusic} />\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}